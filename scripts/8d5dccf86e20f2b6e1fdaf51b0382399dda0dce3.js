(function(){$(function(){function getModeCookie(e){return document.documentMode&&document.documentMode!=previosDocmode||void 0!==previosIsMobile&&previosIsMobile!==isMobile?null:$.cookie(e)}function loadClip(e,o){var i="video-bg-wrap"==o?!0:!1,n=$(i?"#"+o+" .video-bg>video":"#"+o+" .img-bg>img"),t=n.length;if(t<e.length){var a=e[t],r=a.w,s=a.h,d=function(){var e,o,i=$(window).width(),n=$(window).height(),t=r/s,a=i/n;t>a?(o=n,e=Math.round(o*t)):(e=i,o=Math.round(e/t));var d=Math.round((n-o)/2),l=Math.round((i-e)/2);return{width:e+"px",height:o+"px",left:l+"px",top:d+"px"}},l=$(i?'<div class="video-bg"></div>':'<div class="img-bg"></div>');l.appendTo("#"+o),l.css(d()),$(window).on("resize",function(){l.css(d())});var c;i?(c=$('<video class="bg" webkit-playsinline loop></video>'),c[0].muted=a.audio?!1:!0):c=$('<img class="bg" />');var p=function(){loadedClips[o]=void 0===loadedClips[o]?0:loadedClips[o]+1,(void 0===maxLoadedClips[o]||null===maxLoadedClips[o]||""===maxLoadedClips[o]||loadedClips[o]>maxLoadedClips[o])&&(maxLoadedClips[o]=loadedClips[o],$.cookie("max-loaded-"+o,maxLoadedClips[o],{path:"/"})),c.appendTo(l),a.loadQ&&a.loadQ(c),loadClip(e,o)};i?c.one("canplaythrough",p):c.load(p),c[0].src=a.src,i&&c[0].load()}}function moveClear(e){if(e)$(".page-paper.move-out").cssAnOnly({"background-color":""}).removeClass("move-out");else{var o=$(lastHash+" .page-paper");o.addClass("move-out"),o.cssAnOnly({"background-color":$.Color({alpha:0})})}}function design(){var e=!0,o=function(){$(".navbar-collapse.in").collapse("hide"),$(".page-paper").css({overflow:"auto"}),e=!0};$(".navbar-collapse li a").click(o),$(window).on("resize",function(){$(window).width()>767&&o()}),$("#top-nav .navbar-toggle").click(function(){e?($(".page-paper").css({overflow:"hidden"}),e=!1):($(".page-paper").css({overflow:"auto"}),e=!0)});var i=$(".page");i.wrapInner('<div class="col-sm-9 page-content"></div>'),i.wrapInner('<div class="page-paper'+(isMobile?"":" scrollbar")+'"></div>'),$('<div class="film1"></div>').insertBefore($(".page-paper")),$('<div class="film2"><div class="bg-author"></div></div>').insertAfter($(".page-paper")),$("#side-nav a, #top-nav ul a").each(function(){$(this).attr("data-hover",$(this).text())}),isParallax&&(isWebgl||isPlayVideo?($("#video-bg-wrap").addClass("layer").attr("data-depth","0.5"),$("#move-fx-wrap").addClass("layer").attr("data-depth","1")):$("#sketch-bg-wrap, #move-fx-wrap").addClass("layer").attr("data-depth","1"),$scene=$("#page-wrapper").parallax(),$scene.parallax("disable"));var n,t,a=(new Date).getTime(),r=!1;isMobile||$(window).mousemove(function(){var e=function(){var o=500,i=(new Date).getTime();i-a>o?(moveFunc(!0),r=!1):(n&&clearTimeout(n),n=setTimeout(e,o))};r&&t==lastHash||(r=!0,moveFunc(),e()),a=(new Date).getTime(),t=lastHash})}function navigation(){function e(e){function o(){var e=threeBgs[threeCursor];return threeCursor<threeBgs.length-1?threeCursor++:threeCursor=0,$.cookie("lastThreeCursor",threeCursor,{path:"/"}),moveFunc=moveClear,e.start(),e}function i(e,o,i){var n=$("#"+e+" .bg"),t=maxLoadedClips[e],a=clipCursor[e];clipCursor[e]>=t?clipCursor[e]=0:clipCursor[e]++,$.cookie("last-cursor-"+e,clipCursor[e],{path:"/"}),n.length<=a?o[a].loadQ=function(e){o[a].loadQ=!1,i(e,a)}:i($(n[a]),a)}function n(){if(isPlayVideo&&$(".video-bg video").each(function(e){this.pause(),videoClips[e].fx&&videoClips[e].fx.stop()}),isWebgl){for(var e=0;e<threeBgs.length;e++)threeBgs[e].stop();for(var e=0;e<threeImgClips.length;e++)threeImgClips[e].fx&&threeImgClips[e].fx.stop();$(".page-paper").removeClass("black-bg")}moveFx&&moveFx.stop(),isParallax&&$scene.parallax("disable")}function r(){function e(){var e=pgOutClassCur<pgOutClasses.length-1?pgOutClassCur+1:0,o=pgOutClasses[pgOutClassCur];return pgOutClassCur=e,o}$(".page.in").each(Modernizr.cssanimations?function(){var o=$(this);if("#"+o.attr("id")!=lastHash){var i=e();o.removeClass("in "+pgInClasses.join(" ")).addClass("animated out "+i),o.find(".page-box").removeClass(boxInClasses.join(" "))}}:function(){var e=$(this);"#"+e.attr("id")!=lastHash&&e.removeClass("in "+pgInClasses.join(" ")).addClass("out").animate({left:"-"+($(window).width()+5)+"px"},duration,function(){e.css({visibility:"hidden"})})})}function s(){function e(){var e=bgOutClassCur<bgOutClasses.length-1?bgOutClassCur+1:0,o=bgOutClasses[bgOutClassCur];return bgOutClassCur=e,o}$(".bg.in").each(Modernizr.cssanimations?function(){var o=e();$(this).removeClass("in "+bgInClasses.join(" ")).addClass("animated out "+o)}:function(){$(this);$(this).removeClass("in").addClass("out").animate({top:"-100%"},duration)})}function d(e,o){function i(){o&&o()}if(windSnd(),boomSnd(),$("#loading").css({display:"none"}),Modernizr.cssanimations){var n=function(){var e=bgInClassCur<bgInClasses.length-1?bgInClassCur+1:0,o=bgInClasses[bgInClassCur];return bgInClassCur=e,o}();r(),e.hasClass("in")?i():(s(),e.removeClass("out "+bgOutClasses.join(" ")).addClass("over in"),e.one(animationEnd,i),e.addClass("animated "+n))}else if(r(),e.hasClass("in"))i();else{s(),e.removeClass("out").addClass("over in");var t;isParallax?(e.css({top:""}),t=e.css("top")):t=0,e.css({top:"-100%"}),e.animate({top:t},duration,i)}}function l(o,i,n){function s(){if(i.removeClass("over"),o.removeClass("over"),o.find(".page-box").removeClass(l),"#"+o.attr("id")==lastHash){if($.support.transition&&!isMobile){var t,a=$(m+" .film1, "+m+" .film2"),s=a.css("background-position");t=s?s.split(" ")[0].replace("%","").replace("px",""):"0",filmDirect=-1*filmDirect;var d="0"==t?504*filmDirect*4:"0";setTimeout(function(){a.css({"background-position":d+"px 0"})},100)}{$(m+" .page-paper")}$("a").each(function(){$t=$(this),$pli=$t.parents("li"),$pli.removeClass("active"),$t.removeClass("active"),$pli.hasClass("lang")?$t.attr("data-lang")==docLang&&($t.parents("li").addClass("active"),$t.addClass("active")):(this.href==e.href||this.href+"#"==e.href)&&($t.parents("li").addClass("active"),$t.addClass("active"))}),seq&&seq.startAutoPlay(),n&&n()}r()}if($("#side-nav a").css("color",""),Modernizr.opacity&&($(m+" .page-paper").cssAnOnly({"background-color":""}),t.cssAn({"background-color":a})),Modernizr.cssanimations){var d=function(){var e=pgInClassCur<pgInClasses.length-1?pgInClassCur+1:0,o=pgInClasses[pgInClassCur];return pgInClassCur=e,o}(),l=function(){var e=boxInClassCur<boxInClasses.length-1?boxInClassCur+1:0,o=boxInClasses[boxInClassCur];return boxInClassCur=e,o}();o.find(".page-box").addClass("animated "+l),o.removeClass("out "+pgOutClasses.join(" ")).addClass("over in"),o.one(animationEnd,s),o.addClass("animated "+d)}else o.removeClass("out").addClass("over in"),o.css({left:"-100%",visibility:"visible"}),o.animate({left:"0"},duration,s)}function c(){n();var e="three-img-bg-wrap";i(e,threeImgClips,function(e,o){var i=threeImgClips[o];i.fx||(i.fx=new ThreeFx(e[0]));var n=$(i.fx.container);i.fx.start(),i.link&&i.author?$(m+" .bg-author").text("Photo by ").append('<a target="_blank" href="'+i.link+'">'+i.author+"</a>"):$(m+" .bg-author").empty(),d(n,function(){l(g,n)})})}function p(){n(),isParallax&&$scene.parallax("enable");var e="video-bg-wrap";i(e,videoClips,function(e,o){var i=videoClips[o];i.link&&i.author?$(m+" .bg-author").text("Video by ").append('<a target="_blank" href="'+i.link+'">'+i.author+"</a>"):$(m+" .bg-author").empty(),d(e,function(){l(g,e,function(){e[0].play(),moveFx&&moveFx.start()})})})}function u(){n();var e=o(),i=$(e.container);$(m+" .bg-author").empty(),d(i,function(){e.paperClass&&g.find(".page-paper").addClass(e.paperClass),l(g,i)})}function h(){n(),isParallax&&$scene.parallax("enable");var e="sketch-bg-wrap";i(e,sketchClips,function(e,o){var i=sketchClips[o];i.link&&i.author?$(m+" .bg-author").text("Background by ").append('<a target="_blank" href="'+i.link+'">'+i.author+"</a>"):$(m+" .bg-author").empty(),d(e,function(){l(g,e,function(){moveFx&&moveFx.start()})})})}var m=e.hash;m=m&&"#"!=m?m.replace("#!","#"):"#index",lastHash=m;var g=$(m);if(!(g.length<1)){$(".page.in").length>0&&($("#side-nav a").css("color","#FF7D8D"),Modernizr.opacity&&t.cssAn({"background-color":"rgba(0, 0, 0, 0.7)"}));var w=function(){var e=[],o=function(){isPlayVideo&&e.push(p)},i=function(){isPlayVideo||isWebgl||e.push(h)},n=function(){isWebgl&&e.push(u)},t=function(){isWebgl&&e.push(c)};return isIE?(o(),t(),n(),t(),o(),t(),o(),o(),t(),o(),n(),o(),i()):(n(),t(),o(),o(),t(),o(),t(),o(),t(),o(),n(),o(),o(),i()),e}();w[fxCursor](),fxCursor<w.length-1?fxCursor++:fxCursor=0,$.cookie("lastFxCursor",fxCursor,{path:"/"})}}var o=!1,i=!1,n=null,t=$("#side-nav"),a=t.css("background-color");$("a").each(function(){this.hash&&(this.hash=this.hash.replace("#","#!"))}),$(window).on("resize",function(){$("#page-wrapper>img.in").each(function(){adjustImg(this)})}),e(location),$("a:not(.no-animation)").click(function(a){function r(){$(".video-bg video").each(function(){this.pause()}),$("#off").css({display:"none"}),$("#on").css({display:"block"}),t.cssAn({opacity:.3});var e=$("#off-bg");e.css({display:"table","background-image":"url(/images/fuzz.gif)"}),setTimeout(function(){e.cssAn({opacity:1})}),o=!0,n=location.hash}function s(){$("#off").css({display:"block"}),$("#on").css({display:"none"});var e=$("#off-bg");e.cssAn({opacity:0}),t.cssAn({opacity:1});var i=$.support.transition?300:duration;setTimeout(function(){e.css({display:"none","background-image":"none"})},i);var n=$(".video-bg video.in");n.length>0&&($(".video-bg video").each(function(){this.pause()}),n[0].play()),o=!1}if("?off=1"===this.search)o||r(),a.preventDefault();else if("?on=1"==this.search)o&&s(),a.preventDefault();else if(i)a.preventDefault();else{o&&s();var d=location.hash?location.href.replace(location.hash,""):location.href.replace(/#$/,""),l=this.hash?this.href.replace(this.hash,""):this.href.replace(/#$/,"");if(this.hash&&l==d)e(this),n=this.hash,location.hash=this.hash,a.preventDefault();else if(l==d)e(this),n="",location.hash="",a.preventDefault();else{var c=this.href;Modernizr.cssanimations?($(".page.in, .bg.in, #move-fx").one(transitionEnd,function(){window.location.href=c}),$(".page.in, .bg.in, #move-fx").css({top:"100%"})):$(".page.in, .bg.in, #move-fx").animate({left:"100%"},duration,function(){window.location.href=c}),a.preventDefault()}}}),$(window).on("hashchange",function(){var o="#"==location.hash?"":location.hash;o!==n&&e(location)})}function projects(){var e=$("#sequence");if(e.length>0){var o={nextButton:!0,prevButton:!0,pagination:!0,animateStartingFrameIn:!0,autoPlay:isMobile?!1:!0,pauseOnHover:!0,autoPlayDelay:3e3,preloader:isMobile?!1:!0,preloadTheseFrames:isMobile?void 0:[1]},i=function(){$("#sequence>.sequence-canvas div[data-img]").each(function(){var e=$(this),o=e.attr("data-img"),i=$(window).width(),n=$(window).height();Modernizr.mq("only all")&&!isMobile&&(580>=i||602>=n?o=o.replace(".png","-c.png"):925>=i||695>=n?o=o.replace(".png","-b.png"):(1199>=i||755>=n)&&(o=o.replace(".png","-a.png")));var t=e.find("img");(t.length<1||t.attr("src")!==o)&&(e.empty(),$('<img src="'+o+'" />').appendTo(e))})};$("#sequence .sequence-pagination .view").length<1&&($("#sequence>.sequence-canvas>li>.view").each(function(){var e=$(this).clone();e.find("div[data-img]").each(function(){var e=$(this);src=e.attr("data-img").replace(".png","-t.png"),$('<img src="'+src+'" />').appendTo(e)}),e.appendTo("#sequence .sequence-pagination")}),i(),$(window).on("resize",i)),seq=$("#sequence").sequence(o).data("sequence"),seq.pause()}}function opacityFix(){if(!Modernizr.opacity){for(var e=[["#top-nav",70],["#top-nav .navbar-toggle",80],["#top-nav li.navbar-text",80],["#side-nav",70],[".page-paper",85],[".page-content i",72],["#off-bg i",20],[".center-menu, .page-box",70],[".descr",70]],o=$("head"),i='<style type="text/css">',n=0;n<e.length;n++)i+=e[n][0]+' {-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+e[n][1]+')";}';i+="</style>",o.append($(i))}}function snd(e){if(!isPlayAudio)return function(){};var o={mp3:"audio/mpeg",mp4:"audio/mp4",ogg:"audio/ogg",wav:"audio/wav"},i=[],n=function(){var t=i.length;if(t<e.length){var a=document.createElement("audio");$(a).one("canplaythrough",function(){i.push(this),n()});for(var r=e[t],s=0;s<r.length;s++){var d=document.createElement("source");d.setAttribute("src",r[s]),r[s].match(/\.(\w+)$/i)&&d.setAttribute("type",o[RegExp.$1]),a.appendChild(d)}a.load()}};n();var t=0;return function(){if(i[t]){var e=i[t];t=t<i.length-1?t+1:0,e.pause(),e.currentTime=0,e.play()}}}function audio(){isPlayAudio&&($("a:not(.muted)").click(clickSnd),$("a:not(.muted)").mouseenter(enterSnd))}function ThreeCubemapBalls(){function e(){h=window.innerWidth/2,m=window.innerHeight/2,n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function o(e){p=10*(e.clientX-h),u=10*(e.clientY-m)}function i(){for(var e=1e-4*Date.now(),o=0,i=c.length;i>o;o++){var d=c[o];d.position.x=5e3*Math.cos(e+o),d.position.y=5e3*Math.sin(e+1.1*o)}n.position.x+=.05*(p-n.position.x),n.position.y+=.05*(-u-n.position.y),n.lookAt(t.position),r.rotation.copy(n.rotation),a.render(s,r),a.render(t,n)}var n,t,a,r,s,d,l,c=[],p=0,u=0,h=window.innerWidth/2,m=window.innerHeight/2;document.addEventListener("mousemove",o,!1);var g;this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),n=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),n.position.z=3200,r=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),t=new THREE.Scene,s=new THREE.Scene;for(var l=new THREE.SphereGeometry(100,32,16),w="/textures/cube/skybox-blue/",v=".jpg",f=[w+"px"+v,w+"nx"+v,w+"py"+v,w+"ny"+v,w+"pz"+v,w+"nz"+v],b=THREE.ImageUtils.loadTextureCube(f,new THREE.CubeRefractionMapping),E=new THREE.MeshBasicMaterial({color:16777215,envMap:b,refractionRatio:.95}),C=0;500>C;C++){var d=new THREE.Mesh(l,E);d.position.x=1e4*Math.random()-5e3,d.position.y=1e4*Math.random()-5e3,d.position.z=1e4*Math.random()-5e3,d.scale.x=d.scale.y=d.scale.z=3*Math.random()+1,t.add(d),c.push(d)}var _=THREE.ShaderLib.cube;_.uniforms.tCube.value=b;var E=new THREE.ShaderMaterial({fragmentShader:_.fragmentShader,vertexShader:_.vertexShader,uniforms:_.uniforms,depthWrite:!1,side:THREE.BackSide}),d=new THREE.Mesh(new THREE.CubeGeometry(100,100,100),E);s.add(d),a=new THREE.WebGLRenderer,a.setSize(window.innerWidth,window.innerHeight),a.autoClear=!1,this.container.appendChild(a.domElement),window.addEventListener("resize",e,!1),this.stop=function(){g=!1},this.start=function(){function e(){g&&(requestAnimationFrame(e),i())}g=!0,e()}}function ThreeParticlesBillboards(){function e(){v=window.innerWidth/2,f=window.innerHeight/2,a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}function o(e){g=e.clientX-v,w=e.clientY-f}function i(e){1==e.touches.length&&(e.preventDefault(),g=e.touches[0].pageX-v,w=e.touches[0].pageY-f)}function n(e){1==e.touches.length&&(e.preventDefault(),g=e.touches[0].pageX-v,w=e.touches[0].pageY-f)}function t(){var e=5e-5*Date.now();a.position.x+=.05*(g-a.position.x),a.position.y+=.05*(-w-a.position.y),a.lookAt(r.position),u=360*(1+e)%360/360,c.color.setHSL(u,.5,.5),s.render(r,a)}var a,r,s,d,l,c,p,u,h,m,g=0,w=0,v=window.innerWidth/2,f=window.innerHeight/2;for(this.paperClass="black-bg",this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,2,2e3),a.position.z=1e3,r=new THREE.Scene,r.fog=new THREE.FogExp2(0,.001),l=new THREE.Geometry,h=THREE.ImageUtils.loadTexture("/textures/sprites/disc.png"),p=0;1e4>p;p++){var b=new THREE.Vector3;b.x=2e3*Math.random()-1e3,b.y=2e3*Math.random()-1e3,b.z=2e3*Math.random()-1e3,l.vertices.push(b)}c=new THREE.ParticleSystemMaterial({size:35,sizeAttenuation:!1,map:h,transparent:!0}),c.color.setHSL(1,.3,.7),d=new THREE.ParticleSystem(l,c),d.sortParticles=!0,r.add(d),s=new THREE.WebGLRenderer({clearAlpha:1}),s.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(s.domElement),document.addEventListener("mousemove",o,!1),document.addEventListener("touchstart",i,!1),document.addEventListener("touchmove",n,!1),window.addEventListener("resize",e,!1),this.stop=function(){m=!1},this.start=function(){function e(){m&&(requestAnimationFrame(e),t())}m=!0,e()}}function ThreeParticlesShapes(){function e(e,o,i){return new THREE.Vector3(e,o,i)}function o(){var e=document.createElement("canvas");e.width=128,e.height=128;var o=e.getContext("2d");o.beginPath(),o.arc(64,64,60,0,2*Math.PI,!1),o.lineWidth=.5,o.stroke(),o.restore();var i=o.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(.2,"rgba(255,255,255,1)"),i.addColorStop(.4,"rgba(200,200,200,1)"),i.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=i,o.fill(),e}function n(){k=window.innerWidth/2,M=window.innerHeight/2,d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight),E.uniforms.h.value=1/window.innerWidth,C.uniforms.v.value=1/window.innerHeight;var e=15,o=e/window.innerWidth,i=e/window.innerHeight;f.uniforms.delta.value=new THREE.Vector2(o,0),b.uniforms.delta.value=new THREE.Vector2(0,i),v.reset()}function t(e){y=e.clientX-k,H=x+.02*(y-R)}function a(e){1===e.touches.length&&(e.preventDefault(),R=e.touches[0].pageX-k,x=H)}function r(e){1===e.touches.length&&(e.preventDefault(),y=e.touches[0].pageX-k,H=x+.05*(y-R))}function s(){S=T*I.getDelta(),g.geometry.verticesNeedUpdate=!0,attributes.size.needsUpdate=!0,attributes.pcolor.needsUpdate=!0,p.rotation.y+=.05*(H-p.rotation.y),c.clear(),v.render(.1)}var d,l,c,p,u,h,m,g,w,v,f,b,E,C,_,T=50,H=0,x=0,y=0,R=0,k=window.innerWidth/2,M=window.innerHeight/2,S=1,I=new THREE.Clock,P=0;this.paperClass="black-bg",this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),d=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,2e3),d.position.set(0,150,400),l=new THREE.Scene;var z=new THREE.DirectionalLight(16777215,.5);z.position.set(0,-1,1),z.position.normalize(),l.add(z),h=new THREE.PointLight(16777215,2,300),h.position.set(0,0,0),l.add(h);var A="X40",L=new THREE.MeshFaceMaterial([new THREE.MeshLambertMaterial({color:16777215,shading:THREE.FlatShading,opacity:.95}),new THREE.MeshLambertMaterial({color:16777215})]),W=new THREE.TextGeometry(A,{size:70,height:25,curveSegments:4,font:"helvetiker",bevelEnabled:!0,bevelThickness:2,bevelSize:2,material:0,extrudeMaterial:1});W.computeVertexNormals(),W.computeBoundingBox();var F=-.5*(W.boundingBox.max.x-W.boundingBox.min.x);u=new THREE.Mesh(W,L),u.position.x=F,u.position.y=130,u.position.z=-50,u.rotation.x=0,u.rotation.y=2*Math.PI,p=new THREE.Object3D,p.add(u),l.add(p);var O=7e4,j=new THREE.Geometry,D={__pools:[],get:function(){return this.__pools.length>0?this.__pools.pop():(console.log("pool ran out!"),null)},add:function(e){this.__pools.push(e)}};for(i=0;O>i;i++)j.vertices.push(e(200*Math.random()-100,100*Math.random()+150,50*Math.random())),D.add(i);attributes={size:{type:"f",value:[]},pcolor:{type:"c",value:[]}};var q=o();texture=new THREE.Texture(q),texture.needsUpdate=!0,uniforms={texture:{type:"t",value:texture}};var B=new THREE.ShaderMaterial({uniforms:uniforms,attributes:attributes,vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent,blending:THREE.AdditiveBlending,depthWrite:!1,transparent:!0});g=new THREE.ParticleSystem(j,B),g.dynamic=!0;for(var V=g.geometry.vertices,N=attributes.size.value,G=attributes.pcolor.value,U=0;U<V.length;U++)N[U]=50,G[U]=new THREE.Color(0),j.vertices[U].set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);p.add(g),g.y=800;var Y=0,X=0;m=new THREE.Shape,m.moveTo(Y+25,X+25),m.bezierCurveTo(Y+25,X+25,Y+20,X,Y,X),m.bezierCurveTo(Y-30,X,Y-30,X+35,Y-30,X+35),m.bezierCurveTo(Y-30,X+55,Y-10,X+77,Y+25,X+95),m.bezierCurveTo(Y+60,X+77,Y+80,X+55,Y+80,X+35),m.bezierCurveTo(Y+80,X+35,Y+80,X,Y+50,X),m.bezierCurveTo(Y+35,X,Y+25,X+25,Y+25,X+25);var K=0,Q=function(){var e=D.get();return N[e]=200*Math.random()+100,e},J=function(e){var o=e.position;e.target.position=o;var i=e.target;if(i){K+=3e-4*S,K>1&&(K-=1),P+=35e-5*S,P>1&&(P-=1);var n=m.getPointAt(P);emitterpos.x=5*n.x-100,emitterpos.y=5*-n.y+400,h.position.x=emitterpos.x,h.position.y=emitterpos.y,h.position.z=100,j.vertices[i]=e.position,G[i].setHSL(K,.6,.1),h.color.setHSL(K,.8,.5)}},Z=function(e){var o=e.target;o&&(G[o].setRGB(0,0,0),j.vertices[o].set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),D.add(e.target))};w=new SPARKS.Emitter(new SPARKS.SteadyCounter(500)),emitterpos=new THREE.Vector3(0,0,0),w.addInitializer(new SPARKS.Position(new SPARKS.PointZone(emitterpos))),w.addInitializer(new SPARKS.Lifetime(1,15)),w.addInitializer(new SPARKS.Target(null,Q)),w.addInitializer(new SPARKS.Velocity(new SPARKS.PointZone(new THREE.Vector3(0,-5,1)))),w.addAction(new SPARKS.Age),w.addAction(new SPARKS.Accelerate(0,0,-50)),w.addAction(new SPARKS.Move),w.addAction(new SPARKS.RandomDrift(90,100,2e3)),w.addCallback("created",J),w.addCallback("dead",Z),c=new THREE.WebGLRenderer,c.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(c.domElement);var eo=new THREE.ShaderPass(THREE.FocusShader),oo=new THREE.ShaderPass(THREE.CopyShader);effectFilm=new THREE.FilmPass(.5,.25,2048,!1);var io=THREE.TriangleBlurShader;f=new THREE.ShaderPass(io,"texture"),b=new THREE.ShaderPass(io,"texture");var no=15,to=no/window.innerWidth,ao=no/window.innerHeight;E=new THREE.ShaderPass(THREE.HorizontalBlurShader),C=new THREE.ShaderPass(THREE.VerticalBlurShader),E.uniforms.h.value=1/window.innerWidth,C.uniforms.v.value=1/window.innerHeight,f.uniforms.delta.value=new THREE.Vector2(to,0),b.uniforms.delta.value=new THREE.Vector2(0,ao),eo.uniforms.sampleDistance.value=.99,eo.uniforms.waveFactor.value=.003;var ro=new THREE.RenderPass(l,d);v=new THREE.EffectComposer(c),v.addPass(ro),v.addPass(E),v.addPass(C),C.renderToScreen=!0,b.renderToScreen=!0,eo.renderToScreen=!0,oo.renderToScreen=!0,effectFilm.renderToScreen=!0,document.addEventListener("touchstart",a,!1),document.addEventListener("touchmove",r,!1),window.addEventListener("resize",n,!1),document.addEventListener("mousemove",t,!1),this.stop=function(){_=!1,w.stop()},this.start=function(){function e(){_&&(requestAnimationFrame(e),s())}_=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),w.start(),e()}}function ThreeFx(e){function o(){w=window.innerWidth/2,v=window.innerHeight/2,a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),p.reset()}function i(e,o,i,n,t){for(var a=e.faceVertexUvs[0],r=0;r<a.length;r++)for(var s=a[r],d=0;d<s.length;d++){var l=s[d];l.x=(l.x+n)*o,l.y=(l.y+t)*i}}function n(e){m=.5*(e.clientX-w),g=e.clientY-v}function t(){var o=5e-5*Date.now();for(a.position.x+=.05*(m-a.position.x),a.position.y+=.05*(-g-a.position.y),a.lookAt(r.position),e.readyState&&e.readyState!==e.HAVE_ENOUGH_DATA||d&&(d.needsUpdate=!0),H=0;u>H;H++)l=b[H],O=360*(l.hue+o)%360/360,l.color.setHSL(O,l.saturation,.5);if(j%1e3>200)for(H=0;u>H;H++)c=f[H],c.rotation.x+=10*c.dx,c.rotation.y+=10*c.dy,c.position.x+=200*c.dx,c.position.y+=200*c.dy,c.position.z+=400*c.dx;if(j%1e3===0)for(H=0;u>H;H++)c=f[H],c.dx*=-1,c.dy*=-1;j++,s.clear(),p.render()}var a,r,s,d,l,c,p,u,h,m=0,g=0,w=window.innerWidth/2,v=window.innerHeight/2,f=[],b=[],E=20,C=10,_=$(e);this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e4),a.position.z=500,r=new THREE.Scene;var T=new THREE.DirectionalLight(16777215);T.position.set(.5,1,1).normalize(),r.add(T),s=new THREE.WebGLRenderer({antialias:!1}),s.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(s.domElement),d=new THREE.Texture(e),d.minFilter=THREE.LinearFilter,d.magFilter=THREE.LinearFilter,d.format=THREE.RGBFormat,d.generateMipmaps=!1;var H,x,y,R,k,M,S,I,P;y=1/E,R=1/C,I=_.width()/1.5/E,P=_.height()/1.5/C;var z={color:16777215,map:d},A=new THREE.MeshLambertMaterial(z);for(s.initMaterial(A,r.__lights,r.fog),u=0,H=0;E>H;H++)for(x=0;C>x;x++)k=H,M=x,S=new THREE.CubeGeometry(I,P,I),i(S,y,R,k,M),b[u]=new THREE.MeshLambertMaterial(z),l=b[u],l.hue=H/E,l.saturation=1-x/C,l.color.setHSL(l.hue,l.saturation,.5),c=new THREE.Mesh(S,l),c.position.x=(H-E/2)*I,c.position.y=(x-C/2)*P,c.position.z=0,c.scale.x=c.scale.y=c.scale.z=1,r.add(c),c.dx=.001*(.5-Math.random()),c.dy=.001*(.5-Math.random()),f[u]=c,u+=1;s.autoClear=!1,document.addEventListener("mousemove",n,!1);var L=new THREE.RenderPass(r,a),W=new THREE.BloomPass(1.3),F=new THREE.ShaderPass(THREE.CopyShader);F.renderToScreen=!0,p=new THREE.EffectComposer(s),p.addPass(L),p.addPass(W),p.addPass(F),window.addEventListener("resize",o,!1),this.stop=function(){h=!1},this.start=function(){function e(){h&&(requestAnimationFrame(e),t())}h=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),e()};var O,j=1}function ThreeParticlesDynamic(){function e(e){mouseX=e.clientX-T,mouseY=e.clientY-H,l.rotation.y=.002*(-mouseX-T),l.rotation.x=.002*-mouseY}function o(){T=window.innerWidth/2,H=window.innerHeight/2,s.setSize(window.innerWidth,window.innerHeight),a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),a.lookAt(r.position),h.reset(),m.uniforms.screenWidth.value=window.innerWidth,m.uniforms.screenHeight.value=window.innerHeight}function n(e,o,i,n,t,a,r,s){var p,u,h=e.vertices,m=h.length,g=new THREE.Geometry,w=[];for(p=0;m>p;p++)c=h[p],g.vertices[p]=c.clone(),w[p]=[c.x,c.y,c.z,0,0];var v=[[6e3,0,-4e3],[5e3,0,0],[1e3,0,5e3],[1e3,0,-5e3],[4e3,0,2e3],[-4e3,0,1e3],[-5e3,0,-5e3],[0,0,0]];if(s){for(p=0;p<v.length;p++)u=p<v.length-1?2434341:r,d=new THREE.ParticleSystem(g,new THREE.ParticleSystemMaterial({size:3,color:u})),d.scale.x=d.scale.y=d.scale.z=i,d.position.x=n+v[p][0],d.position.y=t+v[p][1],d.position.z=a+v[p][2],l.add(d),b.push({mesh:d,speed:.5+Math.random()});C+=v.length,E+=v.length*m}else d=new THREE.ParticleSystem(g,new THREE.ParticleSystemMaterial({size:3,color:r})),d.scale.x=d.scale.y=d.scale.z=i,d.position.x=n,d.position.y=t,d.position.z=a,l.add(d),C+=1,E+=m;f.push({mesh:d,vertices:g.vertices,vertices_tmp:w,vl:m,down:0,up:0,direction:0,speed:35,delay:Math.floor(200+200*Math.random()),started:!1,start:Math.floor(100+200*Math.random()),dynamic:s})}function t(){for(delta=10*_.getDelta(),delta=2>delta?delta:2,M=0,S=b.length;S>M;M++)I=b[M],I.mesh.rotation.y+=-.1*delta*I.speed;for(M=0,S=f.length;S>M;M++)if(P=f[M],d=P.mesh,z=P.vertices,A=P.vertices_tmp,L=P.vl,P.dynamic){for(P.start>0?P.start-=1:P.started||(P.direction=-1,P.started=!0),i=0;L>i;i++)c=z[i],F=A[i],P.direction<0&&(c.y>0?(c.x+=1.5*(.5-Math.random())*P.speed*delta,c.y+=3*(.25-Math.random())*P.speed*delta,c.z+=1.5*(.5-Math.random())*P.speed*delta):F[3]||(F[3]=1,P.down+=1)),P.direction>0&&(W=Math.abs(c.x-F[0])+Math.abs(c.y-F[1])+Math.abs(c.z-F[2]),W>1?(c.x+=-(c.x-F[0])/W*P.speed*delta*(.85-Math.random()),c.y+=-(c.y-F[1])/W*P.speed*delta*(1+Math.random()),c.z+=-(c.z-F[2])/W*P.speed*delta*(.85-Math.random())):F[4]||(F[4]=1,P.up+=1));if(P.down===L)if(0===P.delay)for(P.direction=1,P.speed=10,P.down=0,P.delay=320,i=0;L>i;i++)A[i][3]=0;else P.delay-=1;if(P.up===L)if(0===P.delay)for(P.direction=-1,P.speed=35,P.up=0,P.delay=120,i=0;L>i;i++)A[i][4]=0;else P.delay-=1;d.geometry.verticesNeedUpdate=!0}s.clear(),h.render(.01)}var a,r,s,d,l,c,p,u,h,m,g,w=window.innerHeight,v=window.innerWidth,f=[],b=[],E=0,C=0,_=new THREE.Clock,T=window.innerWidth/2,H=window.innerHeight/2;this.paperClass="black-bg",this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(20,v/w,1,5e4),a.position.set(0,700,7e3),r=new THREE.Scene,r.fog=new THREE.FogExp2(260,675e-7),a.lookAt(r.position),p=new THREE.JSONLoader,u=new THREE.BinaryLoader(!0),p.load("/obj/terrain.js",function(e){n(e,r,16.8,-11e3,-200,-5e3,65348,!1),n(e,r,16.8,11e3,-200,-15e3,65331,!1),n(e,r,16.8,0,-200,-15e3,65331,!1),n(e,r,16.8,0,-200,15e3,65331,!1),n(e,r,16.8,11e3,-200,15e3,65314,!1),n(e,r,16.8,-11e3,-200,5e3,65297,!1),n(e,r,16.8,13e3,-200,5e3,65365,!1),n(e,r,16.8,13e3,-200,-5e3,65382,!1)}),u.load("/obj/veyron/VeyronNoUv_bin.js",function(e){n(e,r,6.8,2200,-200,-100,22015,!1)}),u.load("/obj/female02/Female02_bin.js",function(e){n(e,r,4.05,-1e3,-350,0,16768324,!0),n(e,r,4.05,0,-350,0,16777215,!0),n(e,r,4.05,1e3,-350,400,16729122,!0),n(e,r,4.05,250,-350,1500,16750933,!0),n(e,r,4.05,250,-350,2500,16742365,!0)}),u.load("/obj/male02/Male02_bin.js",function(e){n(e,r,4.05,-500,-350,600,16742212,!0),n(e,r,4.05,500,-350,0,16733474,!0),n(e,r,4.05,-250,-350,1500,16750882,!0),n(e,r,4.05,-250,-350,-1500,16751103,!0)}),s=new THREE.WebGLRenderer({antialias:!1}),s.setSize(v,w),s.autoClear=!1,s.sortObjects=!1,this.container.appendChild(s.domElement),s.setClearColor(r.fog.color,1),l=new THREE.Object3D,r.add(l);var x=new THREE.ParticleSystem(new THREE.PlaneGeometry(15e3,15e3,64,64),new THREE.ParticleSystemMaterial({color:16711680,size:10}));x.position.y=-400,x.rotation.x=-Math.PI/2,l.add(x),C+=1,E+=x.geometry.vertices.length;var y=new THREE.RenderPass(r,a),R=new THREE.BloomPass(.75),k=new THREE.FilmPass(.5,.5,1448,!1);m=new THREE.ShaderPass(THREE.FocusShader),m.uniforms.screenWidth.value=window.innerWidth,m.uniforms.screenHeight.value=window.innerHeight,m.renderToScreen=!0,h=new THREE.EffectComposer(s),h.addPass(y),h.addPass(R),h.addPass(k),h.addPass(m),document.addEventListener("mousemove",e,!1),window.addEventListener("resize",o,!1);var M,S,I,P,z,A,L,W,F;this.stop=function(){g=!1},this.start=function(){function e(){g&&(requestAnimationFrame(e),t())}g=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),e()}}isWin=$("html").hasClass("win"),isChrome=$("html").hasClass("chrome"),isMobile=$("html").hasClass("mobile-device");var isWebgl=$("html").hasClass("do-webgl"),isPlayVideo=$("html").hasClass("play-video"),isPlayAudio=$("html").hasClass("play-audio"),isParallax=$("html").hasClass("parallax");$(".lang a").click(function(){$.cookie("lang",$(this).attr("data-lang"),{path:"/"})}),$.fn.cssAn=function(e){return $.support.transition?this.css(e):this.animate(e,duration)},$.fn.cssAnOnly=function(e){return $.support.transition?this.css(e):this};var previosDocmode=$.cookie("docmode");document.documentMode&&$.cookie("docmode",document.documentMode,{path:"/"});var previosIsMobile=$.cookie("isMobile");$.cookie("isMobile",isMobile,{path:"/"});var isIE8=$("html").hasClass("ie8"),isIE9=$("html").hasClass("ie9"),isIE10=$("html").hasClass("ie10"),isIE11=function(){var e=document.documentMode;try{document.documentMode=""}catch(o){}res=11===document.documentMode;try{document.documentMode=e}catch(o){}return res}(),isIE=function(){var tmp=document.documentMode,e,isIE;try{document.documentMode=""}catch(e){}res="number"==typeof document.documentMode?!0:eval("/*@cc_on!@*/!1");try{document.documentMode=tmp}catch(e){}return res}(),docLang=$("html").attr("data-doc-lang"),$scene,duration=800,bgInClasses=["slideInDown","fadeInLeft","slideInLeft","fadeInRight","slideInRight","fadeInDown","fadeInUp"],bgInClassCur=0,pgInClasses=["fadeInLeft","fadeInDown","fadeInUp","fadeInRight"],pgInClassCur=0,boxInClasses=isIE?["bounceIn","pulse","bounce","shake","swing","bounceInLeft"]:["flipInX","bounceIn","pulse","bounce","shake","swing","bounceInLeft","flipInY"],boxInClassCur=0,pgOutClasses=["bounceOutRight","bounceOutLeft","bounceOutDown","bounceOutUp"],pgOutClassCur=0,bgOutClasses=["bounceOutRight","bounceOutLeft","bounceOutDown","bounceOutUp"],bgOutClassCur=0,animationEnd="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",transitionEnd="webkitTransitionEnd oTransitionEnd transitionend",moveFunc=moveClear,clipCursor=function(){function e(e){var o="last-cursor-"+e,i=getModeCookie(o);
return i?i:($.cookie(o,0,{path:"/"}),0)}return{"video-bg-wrap":e("video-bg-wrap"),"sketch-bg-wrap":e("sketch-bg-wrap"),"three-img-bg-wrap":e("three-img-bg-wrap")}}(),loadedClips={},maxLoadedClips={"video-bg-wrap":getModeCookie("max-loaded-video-bg-wrap"),"sketch-bg-wrap":getModeCookie("max-loaded-sketch-bg-wrap"),"three-img-bg-wrap":getModeCookie("max-loaded-three-img-bg-wrap")},getCursor=function(e){var o=getModeCookie(e);return o?o:($.cookie(e,0,{path:"/"}),0)},fxCursor=getCursor("lastFxCursor"),threeCursor=getCursor("lastThreeCursor"),lastHash,loadedVideo=[],currentVideoUrl,filmDirect=1,seq,videoClips=[{src:"/video/circ.hole_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/15533570",author:"beeple"},{src:"/video/cross6_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"/video/nodes_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/9936271",author:"beeple"},{src:"/video/lightgrid_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"}],sketchClips=isMobile?$(window).width()<=640?[{src:"/video/lightgrid_(loop)_m.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_m.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"}]:[{src:"/video/lightgrid_(loop)_1280x720.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_1280x720-b.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"}]:[{src:"/video/lightgrid_(loop)_1280x720.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_1280x720.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"/video/lightgrid_(loop)_1280x720-a.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_1280x720-a.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"/video/lightgrid_(loop)_1280x720-c.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_1280x720-c.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"/video/lightgrid_(loop)_1280x720-b.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"/video/cross6_(loop)_1280x720-b.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"}],threeImgClips=[{src:"/images/bg/traffic-1600x1061.jpg",w:1600,h:1061,link:"http://www.flickr.com/photos/yakobusan/3566287076/in/set-72157622430175923",author:"Jakob Montrasio"},{src:"/images/bg/android-1920x1274.jpg",w:1920,h:1274,link:"http://www.flickr.com/photos/peyotll/8378484980/",author:"Benjamin Lefebvre"},{src:"/images/bg/shanghai-1920x1279.jpg",w:1920,h:1279,link:"http://www.flickr.com/photos/yakobusan/3986658544/in/set-72157622430175923",author:"Jakob Montrasio"}],boomSnd=snd([["/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["/audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.ogg","/audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.mp3"],["/audio/boom/93848__robinhood76__01551-low-boom.ogg","/audio/boom/93848__robinhood76__01551-low-boom.mp3"],["/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["/audio/boom/93848__robinhood76__01551-low-boom.ogg","/audio/boom/93848__robinhood76__01551-low-boom.mp3"],["/audio/boom/93848__robinhood76__01551-low-boom.ogg","/audio/boom/93848__robinhood76__01551-low-boom.mp3"],["/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["/audio/boom/93848__robinhood76__01551-low-boom.ogg","/audio/boom/93848__robinhood76__01551-low-boom.mp3"],["/audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.ogg","/audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.mp3"],["/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","/audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"]]),clickSnd=snd([["/audio/click/213148__radiy__click.mp3","/audio/click/213148__radiy__click.ogg"]]),enterSnd=snd([["/audio/swipe/48185__rwm28__digitalhum1.ogg","/audio/swipe/48185__rwm28__digitalhum1.mp3"]]),windSnd=snd([["/audio/wind/148331__shapeshifter242__quiet.ogg","/audio/wind/148331__shapeshifter242__quiet.mp3"],["/audio/wind/158398__kennysvoice__wipenthump.ogg","/audio/wind/158398__kennysvoice__wipenthump.mp3"],["/audio/wind/77080__dj-chronos__giant-wing-flap-5.ogg","/audio/wind/77080__dj-chronos__giant-wing-flap-5.mp3"],["/audio/wind/30328__erh__radio-click-2.ogg","/audio/wind/30328__erh__radio-click-2.mp3"],["/audio/wind/64054__obct__b00-120.ogg","/audio/wind/64054__obct__b00-120.mp3"]]),threeBgs=function(){return isWebgl?isIE?[new ThreeParticlesDynamic]:[new ThreeParticlesShapes]:null}(),moveFx=!isParallax||isMobile?null:new function(){var e=$('<div id="move-fx"></div>');e.css({position:"absolute",top:"-10%",left:"-10%",width:"120%",height:"120%"}),$wrapper=$('<div id="move-fx-wrap"></div>'),$wrapper.css({position:"absolute !important",top:"0",left:"0",width:"100%",height:"100%","z-index":"700"}),$("#page-wrapper").append($wrapper),$wrapper.append(e);var o=["rgb(255,0,0)","rgb(127,128,0)","rgb(0,255,0)","rgb(0,127,128)","rgb(0,0,255)"],i=o.length,n=function(){for(var n=[],t=100/i,a="1s",r="opacity",s=0;i>s;s++)n[s]=$('<div class="bar"></div>'),n[s].css({position:"absolute",bottom:"0",left:s*t+"%",width:t+"%",height:"0",opacity:"0","background-color":o[s],"-webkit-transition-duration":a,"-moz-transition-duration":a,"-ms-transition-duration":a,"-o-transition-duration":a,"transition-duration":a,"-webkit-transition-property":r,"-moz-transition-property":r,"-ms-transition-property":r,"-o-transition-property":r,"transition-property":r}),e.append(n[s]);return n}();$(window).mousemove(function(e){for(var o=e.clientX,t=e.clientY,a=$(window).width(),r=$(window).height(),s=a/i,d=(Math.floor(o/s),r-t),l=0;i>l;l++){var c=l*s+s/2,p=Math.abs(c-o),u=a*(i-1)/i,h=1.3*(1-p/u);n[l].css({height:Math.round(d*h)+"px"})}}),this.start=function(){$("#move-fx .bar").css({opacity:"0.4"})},this.stop=function(){$("#move-fx .bar").css({opacity:"0"})}};opacityFix(),design(),isPlayAudio&&audio(),projects(),loadClip(sketchClips,"sketch-bg-wrap"),isWebgl&&loadClip(threeImgClips,"three-img-bg-wrap"),isPlayVideo&&loadClip(videoClips,"video-bg-wrap"),navigation()})}).call(this);