!function(){function i(){function i(){return b=b==v.length-1?0:b+1,v[b]}function t(){return y=y==m.length-1?0:y+1,m[y]}function n(i){var t=$($(i).attr("data-bg")),n="undefined"!=typeof w[i]&&w[i]<t.length-1?w[i]+1:0,a=$(".static-img");return a.length>0&&a[0].src===t[n].src&&(n=n<t.length-1?n+1:0),w[i]=n,t[n]}function a(i){return $(i).attr("src").replace(/.jpg$/,".mp4")}function o(o){function s(){var t=i();$(o).css(t[0]),c(o,"anim-page"),$(o).transition(t[1],h,function(){c(o,"static-page"),"none"!==$("nav").css("background-image")&&($("nav").css({"background-image":"none"}),$("#side-nav").css({"background-color":"#333"}),$("#side-nav").transition({"background-color":"rgba( 0, 0, 196, .8)"},1e3))})}o=o&&"#"!=o?o.replace("#!","#"):"#index";var f=n(o);if($(".static-img").length>0&&$("nav").css({"background-image":"url(/images/fuzz.gif)"}),"visible"==$(f).css("visibility"))s();else{var r=t(),p=r[0];l(f,p,function(){$(f).css(p);var i=r[1];l(f,i,function(){c(f,"anim-img"),$(f).transition(i,h,function(){l(f,i,function(){$(f).css(i)}),Modernizr.touch||(null===k&&(k=new $.BigVideo,k.init()),k.show(a(f),{ambient:!0}),k.getPlayer().on("playing",function(){$(".static-img").css({visibility:"hidden"})})),e("static-page"),c(f,"static-img"),s()})})})}}function e(i){$("."+i).each(function(){$(this).css({visibility:"hidden"}),$(this).removeClass(i)})}function s(i,t){$(i).css({visibility:"visible"}),$(i).removeClass("static-page static-img anim-page anim-img"),$(i).addClass(t)}function c(i,t){e(t),s(i,t)}function l(i,t,n){var a=$(i),o=new Image;o.onload=function(){var i,a,e=$(window).width(),s=$(window).height(),c=o.width,l=o.height,f=e/s,h=c/l;f>h?(i=e,a=i/h):(a=s,i=h*a),t.width=Math.round(i),t.height=Math.round(a),t["margin-top"]=0==parseInt(t.top)?Math.round((s-a)/2)+"px":"-100%"==t.top?Math.round(s-a)+"px":0,t["margin-left"]=0==parseInt(t.left)?Math.round((e-i)/2)+"px":"-100%"==t.left?Math.round(e-i)+"px":0,n(t)},o.src=a.attr("src")}var f,h=1e3,r="90px",p="25px",g=900,u=!1,d=!1,v=[[{left:"-100%",top:r},{left:p,top:r}],[{left:p,top:"-100%"},{left:p,top:r}],[{left:"100%",top:r},{left:p,top:r}],[{left:p,top:"100%"},{left:p,top:r}]],m=[[{left:0,top:"-100%"},{left:0,top:0}],[{left:"100%",top:0},{left:0,top:0}],[{left:0,top:"100%"},{left:0,top:0}],[{left:"-100%",top:0},{left:0,top:0}]],b=0,y=0,w={},k=null;$.support.transition||($.fn.transition=$.fn.animate),$("a").each(function(){this.hash&&(this.hash=this.hash.replace("#","#!"))}),o(location.hash),$("nav a").click(function(i){function t(){d=!0,$("#on").addClass("inactive"),$("#off").css({display:"none"}),$("#on").css({display:"block"}),$("body").append('<div id="off-bg" style="z-index:'+g+';position:absolute;top:0;left:0;width:100%;height:100%;background-color:#222;"></div>'),Modernizr.opacity?($("#off-bg").css({opacity:0}),$("#off-bg").transition({opacity:1},300,function(){$("#off-bg").css("background-image","url(/images/fuzz.gif)"),u=!0,d=!1,$("#on").removeClass("inactive")})):($("#off-bg").css("background-image","url(/images/fuzz.gif)"),u=!0,d=!1,$("#on").removeClass("inactive")),f=location.hash}function n(){$("#off").addClass("inactive"),$("#off").css({display:"block"}),$("#on").css({display:"none"}),Modernizr.opacity?$("#off-bg").css("background-image","none").transition({opacity:0},h,function(){$("#off-bg").remove(),u=!1,$("#off").removeClass("inactive")}):($("#off-bg").remove(),u=!1,$("#off").removeClass("inactive"))}if("?off"===this.search)u||t(),i.preventDefault();else if("?on"==this.search)u&&n(),i.preventDefault();else if(d)i.preventDefault();else{u&&n();var a=location.hash?location.href.replace(location.hash,""):location.href.replace(/#$/,""),e=this.hash?this.href.replace(this.hash,""):this.href.replace(/#$/,"");this.hash&&e==a?(o(this.hash),f=this.hash,location.hash=this.hash,i.preventDefault()):e==a&&(o(this.hash),f="",location.hash="",i.preventDefault())}}),$(window).on("hashchange",function(){var i="#"==location.hash?"":location.hash;i!==f&&o(location.hash)}),$(window).on("resize",function(){$(".static-img").each(function(){img=this,l(img,{top:0,left:0},function(i){$(img).css(i)})})})}$(function(){$(".navbar-collapse").click("li",function(){$(".navbar-collapse.in, #side-padding.in").collapse("hide").css("height","")}),$(".page").wrapInner('<div class="col-sm-9 page-content"></div>'),$(".page").append('<div class="col-sm-3"></div>'),i()})}.call(this);