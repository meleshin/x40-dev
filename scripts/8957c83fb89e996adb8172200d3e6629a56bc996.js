!function(){function t(){function t(){return b=b==v.length-1?0:b+1,v[b]}function i(){return y=y==m.length-1?0:y+1,m[y]}function n(t){var i=$($(t).attr("data-bg")),n="undefined"!=typeof w[t]&&w[t]<i.length-1?w[t]+1:0,a=$(".static-img");return a.length>0&&a[0].src===i[n].src&&(n=n<i.length-1?n+1:0),w[t]=n,i[n]}function a(t){var i=$(t).attr("data-video");return i?i:$(t).attr("src").replace(/.jpg$/,".mp4")}function o(o){function s(){var i=t();$(o).css(i[0]),c(o,"anim-page"),$(o).transition(i[1],r,function(){c(o,"static-page"),"none"!==$("nav").css("background-image")&&($("nav").css({"background-image":"none"}),$("#side-nav").css({"background-color":"#333"}),$("#side-nav").transition({"background-color":"rgba( 0, 0, 196, .8)"},1e3))})}o=o&&"#"!=o?o.replace("#!","#"):"#index";var f=n(o);if($(".static-img").length>0&&$("nav").css({"background-image":"url(/images/fuzz.gif)"}),"visible"==$(f).css("visibility"))s();else{var h=i(),p=h[0];l(f,p,function(){$(f).css(p);var t=h[1];l(f,t,function(){c(f,"anim-img"),$(f).transition(t,r,function(){l(f,t,function(){$(f).css(t)}),Modernizr.touch||(null===k&&(k=new $.BigVideo,k.init()),k.show(a(f),{ambient:!0}),k.getPlayer().on("playing",function(){$(".static-img").css({visibility:"hidden"})})),e("static-page"),c(f,"static-img"),s()})})})}}function e(t){$("."+t).each(function(){$(this).css({visibility:"hidden"}),$(this).removeClass(t)})}function s(t,i){$(t).css({visibility:"visible"}),$(t).removeClass("static-page static-img anim-page anim-img"),$(t).addClass(i)}function c(t,i){e(i),s(t,i)}function l(t,i,n){var a=$(t),o=new Image;o.onload=function(){var t,a,e=$(window).width(),s=$(window).height(),c=o.width,l=o.height,f=e/s,r=c/l;f>r?(t=e,a=t/r):(a=s,t=r*a),i.width=Math.round(t),i.height=Math.round(a),i["margin-top"]=0==parseInt(i.top)?Math.round((s-a)/2)+"px":"-100%"==i.top?Math.round(s-a)+"px":0,i["margin-left"]=0==parseInt(i.left)?Math.round((e-t)/2)+"px":"-100%"==i.left?Math.round(e-t)+"px":0,n(i)},o.src=a.attr("src")}var f,r=1e3,h="90px",p="25px",g=900,u=!1,d=!1,v=[[{left:"-100%",top:h},{left:p,top:h}],[{left:p,top:"-100%"},{left:p,top:h}],[{left:"100%",top:h},{left:p,top:h}],[{left:p,top:"100%"},{left:p,top:h}]],m=[[{left:0,top:"-100%"},{left:0,top:0}],[{left:"100%",top:0},{left:0,top:0}],[{left:0,top:"100%"},{left:0,top:0}],[{left:"-100%",top:0},{left:0,top:0}]],b=0,y=0,w={},k=null;$.support.transition||($.fn.transition=$.fn.animate),$("a").each(function(){this.hash&&(this.hash=this.hash.replace("#","#!"))}),o(location.hash),$("nav a").click(function(t){function i(){d=!0,$("#on").addClass("inactive"),$("#off").css({display:"none"}),$("#on").css({display:"block"}),$("body").append('<div id="off-bg" style="z-index:'+g+';position:absolute;top:0;left:0;width:100%;height:100%;background-color:#222;"></div>'),Modernizr.opacity?($("#off-bg").css({opacity:0}),$("#off-bg").transition({opacity:1},300,function(){$("#off-bg").css("background-image","url(/images/fuzz.gif)"),u=!0,d=!1,$("#on").removeClass("inactive")})):($("#off-bg").css("background-image","url(/images/fuzz.gif)"),u=!0,d=!1,$("#on").removeClass("inactive")),f=location.hash}function n(){$("#off").addClass("inactive"),$("#off").css({display:"block"}),$("#on").css({display:"none"}),Modernizr.opacity?$("#off-bg").css("background-image","none").transition({opacity:0},r,function(){$("#off-bg").remove(),u=!1,$("#off").removeClass("inactive")}):($("#off-bg").remove(),u=!1,$("#off").removeClass("inactive"))}if("?off"===this.search)u||i(),t.preventDefault();else if("?on"==this.search)u&&n(),t.preventDefault();else if(d)t.preventDefault();else{u&&n();var a=location.hash?location.href.replace(location.hash,""):location.href.replace(/#$/,""),e=this.hash?this.href.replace(this.hash,""):this.href.replace(/#$/,"");this.hash&&e==a?(o(this.hash),f=this.hash,location.hash=this.hash,t.preventDefault()):e==a&&(o(this.hash),f="",location.hash="",t.preventDefault())}}),$(window).on("hashchange",function(){var t="#"==location.hash?"":location.hash;t!==f&&o(location.hash)}),$(window).on("resize",function(){$(".static-img").each(function(){img=this,l(img,{top:0,left:0},function(t){$(img).css(t)})})})}$(function(){$(".navbar-collapse").click("li",function(){$(".navbar-collapse.in, #side-padding.in").collapse("hide").css("height","")}),$(".page").wrapInner('<div class="col-sm-9 page-content"></div>'),$(".page").append('<div class="col-sm-3"></div>'),t()})}.call(this);