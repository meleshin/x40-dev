(function(){$(function(){function getModeCookie(e){return document.documentMode&&document.documentMode!=previosDocmode?null:$.cookie(e)}function perf(e){function n(){l||r||(r=Date.now()),l=!1;var d=a.getContext("2d");s>1.5*c?s-=c:s=0,d.fillStyle="rgba(255, 255, 255, "+s+")",d.clearRect(0,0,o,t),d.fillRect(0,0,o,t),0!=s?requestAnimFrame(n):($time=Date.now()-r,console.log("perf. time: "+$time),time>70&&i(),e())}function i(){isWebgl=!1,isPlayVideo=!1,isParallax=!1,isProcessing=!1}if(!isIE||!isWebgl&&!isPlayVideo&&!isParallax&&!isProcessing)return void e();if(!Modernizr.canvas)return i(),void e();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var o=$(window).width(),t=$(window).height(),a=document.createElement("canvas");document.body.appendChild(a),$(a).css({width:"100%",height:"100%",position:"absolute",left:0,top:0});var r,s=.02,d=4,c=s/d,l=!0;n()}function loadClip(e,n){var i="video-bg-wrap"==n?!0:!1,o=$(i?"#"+n+" .video-bg>video":"#"+n+" .img-bg>img"),t=o.length;if(t<e.length){var a=e[t],r=a.w,s=a.h,d=function(){var e,n,i=$(window).width(),o=$(window).height(),t=r/s,a=i/o;t>a?(n=o,e=Math.round(n*t)):(e=i,n=Math.round(e/t));var d=Math.round((o-n)/2),c=Math.round((i-e)/2);return{width:e+"px",height:n+"px",left:c+"px",top:d+"px"}},c=$(i?'<div class="video-bg"></div>':'<div class="img-bg"></div>');c.appendTo("#"+n),c.css(d()),$(window).on("resize",function(){c.css(d())});var l;i?(l=$('<video class="bg" webkit-playsinline loop></video>'),l[0].muted=a.audio?!1:!0):l=$('<img class="bg" />');var u=function(){loadedClips[n]=void 0===loadedClips[n]?0:loadedClips[n]+1,(void 0===maxLoadedClips[n]||null===maxLoadedClips[n]||""===maxLoadedClips[n]||loadedClips[n]>maxLoadedClips[n])&&(maxLoadedClips[n]=loadedClips[n],$.cookie("max-loaded-"+n,maxLoadedClips[n])),l.appendTo(c),a.loadQ&&a.loadQ(l),loadClip(e,n)};i?l.one("canplaythrough",u):l.load(u),l[0].src=a.src,i&&l[0].load()}}function sketchExec(e,n){if(isProcessing){var i=Processing.getInstanceById(e);i?n(i):setTimeout(function(){sketchExec(e,n)},100)}}function moveClear(e){if(e)$(".page-paper.move-out").cssAnOnly({"background-color":""}).removeClass("move-out");else{var n=$(lastHash+" .page-paper");n.addClass("move-out"),n.cssAnOnly({"background-color":"rgba(0, 0, 0, 0)"})}}function design(){var e=function(){$(".navbar-collapse.in").collapse("hide")};$(".navbar-collapse").click("li",e),$(window).on("resize",function(){$(window).width()>767&&e(),isProcessing&&$(".in .sketch").each(function(){sketchExec(this.id,function(e){var n=$(lastHash+" .page-paper");e.size(n.width(),n.height())})})});var n=$(".page");n.wrapInner('<div class="col-sm-9 page-content"></div>'),$('<div class="col-sm-3 right"></div>').appendTo(n),n.wrapInner('<div class="page-paper"></div>'),$('<div class="film1"></div>').insertBefore($(".page-paper")),$('<div class="film2"><div class="bg-author"></div></div>').insertAfter($(".page-paper")),$(".page-paper").scroll(function(){var e=Math.round($(this).scrollTop()/4),n=Math.abs((180+e)%360-180),i=Math.abs((360+e)%360-180),o=Math.abs((300+e)%360-180);$("#side-nav").css(Modernizr.opacity?{"background-color":"rgba("+n+", "+i+", "+o+", 0.7)"}:{"background-color":"rgb("+n+", "+i+", "+o+")"})}),$("#side-nav a, #top-nav ul a").each(function(){$(this).attr("data-hover",$(this).text())}),isParallax&&(isWebgl||isPlayVideo?($("#video-bg-wrap").addClass("layer").attr("data-depth","0.5"),$("#move-fx-wrap").addClass("layer").attr("data-depth","1")):$("#sketch-bg-wrap, #move-fx-wrap").addClass("layer").attr("data-depth","1"),$scene=$("#page-wrapper").parallax(),$scene.parallax("disable"));var i,o,t=(new Date).getTime(),a=!1;$(window).mousemove(function(){var e=function(){var n=500,o=(new Date).getTime();o-t>n?(moveFunc(!0),a=!1):(i&&clearTimeout(i),i=setTimeout(e,n))};a&&o==lastHash||(a=!0,moveFunc(),e()),t=(new Date).getTime(),o=lastHash})}function navigation(){function e(e){function n(){if(isProcessing){$(".sketch").each(function(){var e=this;sketchExec(this.id,function(n){n.noLoop(),$(e).css({visibility:"hidden"})})});var e,n=sketches[sketchCursor].src,i=n.replace("/","-").replace(".","-")+"-"+sketchCursor;if(0===$("#"+i).length){var e=$('<canvas id="'+i+'" class="sketch" tabindex="0"></canvas>');$(g+" .page-content").prepend(e),Processing.loadSketchFromSources(i,[n]),sketchExec(i,function(){e.cssAn({opacity:1})})}else{var o=$("#"+i);o.detach(),$(g+" .page-content").prepend(o),sketchExec(i,function(e){var n=$(g+" .page-paper");e.size(n.width(),n.height()),o.css({visibility:"visible"}).cssAn({opacity:1}),e.loop()})}sketchCursor<sketches.length-1?sketchCursor++:sketchCursor=0,$.cookie("lastSketchCursor",sketchCursor)}}function i(){var e=threeBgs[threeCursor];return threeCursor<threeBgs.length-1?threeCursor++:threeCursor=0,$.cookie("lastThreeCursor",threeCursor),moveFunc=moveClear,e.start(),e}function o(e,n,i){var o=$("#"+e+" .bg"),t=maxLoadedClips[e],a=clipCursor[e];clipCursor[e]>=t?clipCursor[e]=0:clipCursor[e]++,$.cookie("last-cursor-"+e,clipCursor[e]),o.length<=a?n[a].loadQ=function(e){n[a].loadQ=!1,i(e,a)}:i($(o[a]),a)}function r(){if(isPlayVideo&&$(".video-bg video").each(function(e){this.pause(),videoClips[e].fx&&videoClips[e].fx.stop()}),isWebgl){for(var e=0;e<threeBgs.length;e++)threeBgs[e].stop();for(var e=0;e<threeImgClips.length;e++)threeImgClips[e].fx&&threeImgClips[e].fx.stop()}isProcessing&&$(".sketch").each(function(){var e=this;sketchExec(this.id,function(n){n.noLoop(),$(e).css({opacity:0})})}),moveFx&&moveFx.stop(),isParallax&&$scene.parallax("disable")}function s(){function e(){var e=pgOutClassCur<pgOutClasses.length-1?pgOutClassCur+1:0,n=pgOutClasses[pgOutClassCur];return pgOutClassCur=e,n}$(".page.in").each(Modernizr.cssanimations?function(){var n=$(this);if("#"+n.attr("id")!=lastHash){var i=e();n.removeClass("in "+pgInClasses.join(" ")).addClass("animated out "+i),n.find(".page-box").removeClass(boxInClasses.join(" "))}}:function(){var e=$(this);"#"+e.attr("id")!=lastHash&&e.removeClass("in "+pgInClasses.join(" ")).addClass("out").animate({left:"-"+($(window).width()+5)+"px"},duration,function(){e.css({visibility:"hidden"})})})}function d(){function e(){var e=bgOutClassCur<bgOutClasses.length-1?bgOutClassCur+1:0,n=bgOutClasses[bgOutClassCur];return bgOutClassCur=e,n}$(".bg.in").each(Modernizr.cssanimations?function(){var n=e();$(this).removeClass("in "+bgInClasses.join(" ")).addClass("animated out "+n)}:function(){$(this);$(this).removeClass("in").addClass("out").animate({top:"-100%"},duration)})}function c(e,n){function i(){$(".page.in .bg-author").empty(),n&&n()}if(windSnd(),boomSnd(),$("#loading").css({display:"none"}),Modernizr.cssanimations){var o=function(){var e=bgInClassCur<bgInClasses.length-1?bgInClassCur+1:0,n=bgInClasses[bgInClassCur];return bgInClassCur=e,n}();s(),e.hasClass("in")?i():(d(),e.removeClass("out "+bgOutClasses.join(" ")).addClass("over in"),e.one(animationEnd,i),e.addClass("animated "+o))}else if(s(),e.hasClass("in"))i();else{d(),e.removeClass("out").addClass("over in");var t;isParallax?(e.css({top:""}),t=e.css("top")):t=0,e.css({top:"-100%"}),e.animate({top:t},duration,i)}}function l(n,i,o){function r(){if(i.removeClass("over"),n.removeClass("over"),n.find(".page-box").removeClass(c),"#"+n.attr("id")==lastHash){if($.support.transition){var t,a=$(g+" .film1, "+g+" .film2"),r=a.css("background-position");t=r?r.split(" ")[0].replace("%","").replace("px",""):"0",filmDirect=-1*filmDirect;var d="0"==t?504*filmDirect*4:"0";setTimeout(function(){a.css({"background-position":d+"px 0"})},100)}var l=$(g+" .page-paper"),u=l.getNiceScroll(0);u?u.show():(l.niceScroll({zindex:1e5,autohidemode:!0,horizrailenabled:!1,cursoropacitymin:.6,cursoropacitymax:1,background:"transparent",cursorborder:"1px solid #fff",cursorwidth:"8px",cursorcolor:"rgb(200, 0, 0)"}),$(g+" .nicescroll-rails").detach().appendTo("body")),$("a").each(function(){$(this).parents("li").removeClass("active"),$(this).removeClass("active"),(this.href==e.href||this.href+"#"==e.href)&&($(this).parents("li").addClass("active"),$(this).addClass("active"))}),seq&&seq.startAutoPlay(),o&&o()}s()}if($("#side-nav a").css("color",""),Modernizr.opacity&&($(g+" .page-paper").cssAnOnly({"background-color":""}),t.cssAn({"background-color":a})),$(".page-paper").each(function(){var e=$(this).getNiceScroll(0);e&&e.hide()}),Modernizr.cssanimations){var d=function(){var e=pgInClassCur<pgInClasses.length-1?pgInClassCur+1:0,n=pgInClasses[pgInClassCur];return pgInClassCur=e,n}(),c=function(){var e=boxInClassCur<boxInClasses.length-1?boxInClassCur+1:0,n=boxInClasses[boxInClassCur];return boxInClassCur=e,n}();n.find(".page-box").addClass("animated "+c),n.removeClass("out "+pgOutClasses.join(" ")).addClass("over in"),n.one(animationEnd,r),n.addClass("animated "+d)}else n.removeClass("out").addClass("over in"),n.css({left:"-100%",visibility:"visible"}),n.animate({left:"0"},duration,r)}function u(){r();var e="three-img-bg-wrap";o(e,threeImgClips,function(e,n){var i=threeImgClips[n];i.fx||(i.fx=new ThreeFx(e[0]));var o=$(i.fx.container);i.fx.start(),c(o,function(){i.link&&i.author&&$(g+" .bg-author").text("Фото: ").append('<a target="_blank" href="'+i.link+'">'+i.author+"</a>"),l(w,o)})})}function h(){r(),isParallax&&$scene.parallax("enable");var e="video-bg-wrap";o(e,videoClips,function(e,n){var i=videoClips[n];c(e,function(){i.link&&i.author&&$(g+" .bg-author").text("Видео: ").append('<a target="_blank" href="'+i.link+'">'+i.author+"</a>"),l(w,e,function(){e[0].play(),moveFx&&moveFx.start()})})})}function p(){r();var e=i(),n=$(e.container);c(n,function(){l(w,n)})}function m(){r(),isParallax&&$scene.parallax("enable");var e="sketch-bg-wrap";o(e,sketchClips,function(e,i){var o=sketchClips[i];c(e,function(){o.link&&o.author&&$(g+" .bg-author").text("Фон: ").append('<a target="_blank" href="'+o.link+'">'+o.author+"</a>"),l(w,e,function(){isProcessing&&n(),moveFx&&moveFx.start()})})})}var g=e.hash;g=g&&"#"!=g?g.replace("#!","#"):"#index",lastHash=g;var w=$(g);if(!(w.length<1)){$(".page.in").length>0&&($("#side-nav a").css("color","#FF7D8D"),Modernizr.opacity&&t.cssAn({"background-color":"rgba(0, 0, 0, 0.7)"}));var f=function(){var e=[],n=function(){isPlayVideo&&e.push(h)},i=function(){isPlayVideo||isWebgl||e.push(m)},o=function(){isWebgl&&e.push(p)},t=function(){isWebgl&&e.push(u)};return isIE?(o(),o(),t(),n(),t(),n(),o(),n(),t(),o(),n(),o(),n(),i()):(o(),o(),o(),o(),t(),n(),o(),n(),t(),o(),n(),t(),o(),n(),o(),n(),o(),n(),i()),e}();f[fxCursor](),fxCursor<f.length-1?fxCursor++:fxCursor=0,$.cookie("lastFxCursor",fxCursor)}}var n=!1,i=!1,o=null,t=$("#side-nav"),a=t.css("background-color");$("a").each(function(){this.hash&&(this.hash=this.hash.replace("#","#!"))}),$(window).on("resize",function(){$("#page-wrapper>img.in").each(function(){adjustImg(this)})}),e(location),$("a").click(function(a){function r(){$(".video-bg video").each(function(){this.pause()}),$("#off").css({display:"none"}),$("#on").css({display:"block"}),t.cssAn({opacity:.3});var e=$("#off-bg");e.css({display:"table","background-image":"url(/images/fuzz.gif)"}),setTimeout(function(){e.cssAn({opacity:1})}),n=!0,o=location.hash}function s(){$("#off").css({display:"block"}),$("#on").css({display:"none"});var e=$("#off-bg");e.cssAn({opacity:0}),t.cssAn({opacity:1});var i=$.support.transition?300:duration;setTimeout(function(){e.css({display:"none","background-image":"none"})},i);var o=$(".video-bg video.in");o.length>0&&($(".video-bg video").each(function(){this.pause()}),o[0].play()),n=!1}if("?off=1"===this.search)n||r(),a.preventDefault();else if("?on=1"==this.search)n&&s(),a.preventDefault();else if(i)a.preventDefault();else{n&&s();var d=location.hash?location.href.replace(location.hash,""):location.href.replace(/#$/,""),c=this.hash?this.href.replace(this.hash,""):this.href.replace(/#$/,"");if(this.hash&&c==d)e(this),o=this.hash,location.hash=this.hash,a.preventDefault();else if(c==d)e(this),o="",location.hash="",a.preventDefault();else{var l=this.href;Modernizr.cssanimations?($(".page.in, .bg.in, #move-fx").one(transitionEnd,function(){window.location.href=l}),$(".page.in, .bg.in, #move-fx").css({top:"100%"})):$(".page.in, .bg.in, #move-fx").animate({left:"100%"},duration,function(){window.location.href=l}),a.preventDefault()}}}),$(window).on("hashchange",function(){var n="#"==location.hash?"":location.hash;n!==o&&e(location)})}function projects(){var e=$("#sequence");if(e.length>0){var n={nextButton:!0,prevButton:!0,pagination:!0,animateStartingFrameIn:!0,autoPlay:!0,pauseOnHover:!0,autoPlayDelay:3e3,preloader:!1},i=function(){$("#sequence>.sequence-canvas div[data-img]").each(function(){var e=$(this),n=e.attr("data-img"),i=$(window).width(),o=$(window).height();Modernizr.mq("only all")&&(580>=i||602>=o?n=n.replace(".png","-c.png"):925>=i||695>=o?n=n.replace(".png","-b.png"):(1199>=i||755>=o)&&(n=n.replace(".png","-a.png")));var t=e.find("img");(t.length<1||t.attr("src")!==n)&&(e.empty(),$('<img src="'+n+'" />').appendTo(e))})};$("#sequence .sequence-pagination .view").length<1&&($("#sequence>.sequence-canvas>li>.view").each(function(){var e=$(this).clone();e.find("div[data-img]").each(function(){var e=$(this);src=e.attr("data-img").replace(".png","-t.png"),$('<img src="'+src+'" />').appendTo(e)}),e.appendTo("#sequence .sequence-pagination")}),i(),$(window).on("resize",i)),seq=$("#sequence").sequence(n).data("sequence"),seq.pause()}}function opacityFix(){if(!Modernizr.opacity){for(var e=[["#top-nav",70],["#top-nav .navbar-toggle",80],["#top-nav li.navbar-text",80],["#side-nav",70],[".page-paper",70],[".page-content i",72],["#off-bg i",20],[".center-menu, .page-box",70],[".descr",70]],n=$("head"),i='<style type="text/css">',o=0;o<e.length;o++)i+=e[o][0]+' {-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+e[o][1]+')";}';i+="</style>",n.append($(i))}}function snd(e){if(!isPlayAudio)return function(){};var n={mp3:"audio/mpeg",mp4:"audio/mp4",ogg:"audio/ogg",wav:"audio/wav"},i=[],o=function(){var t=i.length;if(t<e.length){var a=document.createElement("audio");$(a).one("canplaythrough",function(){i.push(this),o()});for(var r=e[t],s=0;s<r.length;s++){var d=document.createElement("source");d.setAttribute("src",r[s]),r[s].match(/\.(\w+)$/i)&&d.setAttribute("type",n[RegExp.$1]),a.appendChild(d)}a.load()}};o();var t=0;return function(){if(i[t]){var e=i[t];t=t<i.length-1?t+1:0,e.pause(),e.currentTime=0,e.play()}}}function audio(){isPlayAudio&&($("a:not(.muted)").click(clickSnd),$("a:not(.muted)").mouseenter(enterSnd))}function ThreeCubemapBalls(){function e(){p=window.innerWidth/2,m=window.innerHeight/2,o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function n(e){u=10*(e.clientX-p),h=10*(e.clientY-m)}function i(){for(var e=1e-4*Date.now(),n=0,i=l.length;i>n;n++){var d=l[n];d.position.x=5e3*Math.cos(e+n),d.position.y=5e3*Math.sin(e+1.1*n)}o.position.x+=.05*(u-o.position.x),o.position.y+=.05*(-h-o.position.y),o.lookAt(t.position),r.rotation.copy(o.rotation),a.render(s,r),a.render(t,o)}var o,t,a,r,s,d,c,l=[],u=0,h=0,p=window.innerWidth/2,m=window.innerHeight/2;document.addEventListener("mousemove",n,!1);var g;this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),o=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),o.position.z=3200,r=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),t=new THREE.Scene,s=new THREE.Scene;for(var c=new THREE.SphereGeometry(100,32,16),w="textures/cube/skybox-blue/",f=".jpg",v=[w+"px"+f,w+"nx"+f,w+"py"+f,w+"ny"+f,w+"pz"+f,w+"nz"+f],E=THREE.ImageUtils.loadTextureCube(v,new THREE.CubeRefractionMapping),b=new THREE.MeshBasicMaterial({color:16777215,envMap:E,refractionRatio:.95}),C=0;500>C;C++){var d=new THREE.Mesh(c,b);d.position.x=1e4*Math.random()-5e3,d.position.y=1e4*Math.random()-5e3,d.position.z=1e4*Math.random()-5e3,d.scale.x=d.scale.y=d.scale.z=3*Math.random()+1,t.add(d),l.push(d)}var T=THREE.ShaderLib.cube;T.uniforms.tCube.value=E;var b=new THREE.ShaderMaterial({fragmentShader:T.fragmentShader,vertexShader:T.vertexShader,uniforms:T.uniforms,depthWrite:!1,side:THREE.BackSide}),d=new THREE.Mesh(new THREE.CubeGeometry(100,100,100),b);s.add(d),a=new THREE.WebGLRenderer,a.setSize(window.innerWidth,window.innerHeight),a.autoClear=!1,this.container.appendChild(a.domElement),window.addEventListener("resize",e,!1),this.stop=function(){g=!1},this.start=function(){function e(){g&&(requestAnimationFrame(e),i())}g=!0,e()}}function ThreeParticlesBillboards(){function e(){f=window.innerWidth/2,v=window.innerHeight/2,a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}function n(e){g=e.clientX-f,w=e.clientY-v}function i(e){1==e.touches.length&&(e.preventDefault(),g=e.touches[0].pageX-f,w=e.touches[0].pageY-v)}function o(e){1==e.touches.length&&(e.preventDefault(),g=e.touches[0].pageX-f,w=e.touches[0].pageY-v)}function t(){var e=5e-5*Date.now();a.position.x+=.05*(g-a.position.x),a.position.y+=.05*(-w-a.position.y),a.lookAt(r.position),h=360*(1+e)%360/360,l.color.setHSL(h,.5,.5),s.render(r,a)}var a,r,s,d,c,l,u,h,p,m,g=0,w=0,f=window.innerWidth/2,v=window.innerHeight/2;for(this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,2,2e3),a.position.z=1e3,r=new THREE.Scene,r.fog=new THREE.FogExp2(0,.001),c=new THREE.Geometry,p=THREE.ImageUtils.loadTexture("textures/sprites/disc.png"),u=0;1e4>u;u++){var E=new THREE.Vector3;E.x=2e3*Math.random()-1e3,E.y=2e3*Math.random()-1e3,E.z=2e3*Math.random()-1e3,c.vertices.push(E)}l=new THREE.ParticleSystemMaterial({size:35,sizeAttenuation:!1,map:p,transparent:!0}),l.color.setHSL(1,.3,.7),d=new THREE.ParticleSystem(c,l),d.sortParticles=!0,r.add(d),s=new THREE.WebGLRenderer({clearAlpha:1}),s.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(s.domElement),document.addEventListener("mousemove",n,!1),document.addEventListener("touchstart",i,!1),document.addEventListener("touchmove",o,!1),window.addEventListener("resize",e,!1),this.stop=function(){m=!1},this.start=function(){function e(){m&&(requestAnimationFrame(e),t())}m=!0,e()}}function ThreeParticlesShapes(){function e(e,n,i){return new THREE.Vector3(e,n,i)}function n(){var e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");n.beginPath(),n.arc(64,64,60,0,2*Math.PI,!1),n.lineWidth=.5,n.stroke(),n.restore();var i=n.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(.2,"rgba(255,255,255,1)"),i.addColorStop(.4,"rgba(200,200,200,1)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=i,n.fill(),e}function o(){k=window.innerWidth/2,S=window.innerHeight/2,d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight),b.uniforms.h.value=1/window.innerWidth,C.uniforms.v.value=1/window.innerHeight;var e=15,n=e/window.innerWidth,i=e/window.innerHeight;v.uniforms.delta.value=new THREE.Vector2(n,0),E.uniforms.delta.value=new THREE.Vector2(0,i),f.reset()}function t(e){H=e.clientX-k,_=y+.02*(H-R)}function a(e){1===e.touches.length&&(e.preventDefault(),R=e.touches[0].pageX-k,y=_)}function r(e){1===e.touches.length&&(e.preventDefault(),H=e.touches[0].pageX-k,_=y+.05*(H-R))}function s(){P=x*M.getDelta(),g.geometry.verticesNeedUpdate=!0,attributes.size.needsUpdate=!0,attributes.pcolor.needsUpdate=!0,u.rotation.y+=.05*(_-u.rotation.y),l.clear(),f.render(.1)}var d,c,l,u,h,p,m,g,w,f,v,E,b,C,T,x=50,_=0,y=0,H=0,R=0,k=window.innerWidth/2,S=window.innerHeight/2,P=1,M=new THREE.Clock,I=0;this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),d=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,2e3),d.position.set(0,150,400),c=new THREE.Scene;var z=new THREE.DirectionalLight(16777215,.5);z.position.set(0,-1,1),z.position.normalize(),c.add(z),p=new THREE.PointLight(16777215,2,300),p.position.set(0,0,0),c.add(p);var A="X40",W=new THREE.MeshFaceMaterial([new THREE.MeshLambertMaterial({color:16777215,shading:THREE.FlatShading,opacity:.95}),new THREE.MeshLambertMaterial({color:16777215})]),F=new THREE.TextGeometry(A,{size:70,height:25,curveSegments:4,font:"helvetiker",bevelEnabled:!0,bevelThickness:2,bevelSize:2,material:0,extrudeMaterial:1});F.computeVertexNormals(),F.computeBoundingBox();var L=-.5*(F.boundingBox.max.x-F.boundingBox.min.x);h=new THREE.Mesh(F,W),h.position.x=L,h.position.y=130,h.position.z=-50,h.rotation.x=0,h.rotation.y=2*Math.PI,u=new THREE.Object3D,u.add(h),c.add(u);var O=7e4,D=new THREE.Geometry,j={__pools:[],get:function(){return this.__pools.length>0?this.__pools.pop():(console.log("pool ran out!"),null)},add:function(e){this.__pools.push(e)}};for(i=0;O>i;i++)D.vertices.push(e(200*Math.random()-100,100*Math.random()+150,50*Math.random())),j.add(i);attributes={size:{type:"f",value:[]},pcolor:{type:"c",value:[]}};var q=n();texture=new THREE.Texture(q),texture.needsUpdate=!0,uniforms={texture:{type:"t",value:texture}};var B=new THREE.ShaderMaterial({uniforms:uniforms,attributes:attributes,vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent,blending:THREE.AdditiveBlending,depthWrite:!1,transparent:!0});g=new THREE.ParticleSystem(D,B),g.dynamic=!0;for(var V=g.geometry.vertices,N=attributes.size.value,G=attributes.pcolor.value,U=0;U<V.length;U++)N[U]=50,G[U]=new THREE.Color(0),D.vertices[U].set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);u.add(g),g.y=800;var Y=0,X=0;m=new THREE.Shape,m.moveTo(Y+25,X+25),m.bezierCurveTo(Y+25,X+25,Y+20,X,Y,X),m.bezierCurveTo(Y-30,X,Y-30,X+35,Y-30,X+35),m.bezierCurveTo(Y-30,X+55,Y-10,X+77,Y+25,X+95),m.bezierCurveTo(Y+60,X+77,Y+80,X+55,Y+80,X+35),m.bezierCurveTo(Y+80,X+35,Y+80,X,Y+50,X),m.bezierCurveTo(Y+35,X,Y+25,X+25,Y+25,X+25);var K=0,Q=function(){var e=j.get();return N[e]=200*Math.random()+100,e},J=function(e){var n=e.position;e.target.position=n;var i=e.target;if(i){K+=3e-4*P,K>1&&(K-=1),I+=35e-5*P,I>1&&(I-=1);var o=m.getPointAt(I);emitterpos.x=5*o.x-100,emitterpos.y=5*-o.y+400,p.position.x=emitterpos.x,p.position.y=emitterpos.y,p.position.z=100,D.vertices[i]=e.position,G[i].setHSL(K,.6,.1),p.color.setHSL(K,.8,.5)}},Z=function(e){var n=e.target;n&&(G[n].setRGB(0,0,0),D.vertices[n].set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),j.add(e.target))};w=new SPARKS.Emitter(new SPARKS.SteadyCounter(500)),emitterpos=new THREE.Vector3(0,0,0),w.addInitializer(new SPARKS.Position(new SPARKS.PointZone(emitterpos))),w.addInitializer(new SPARKS.Lifetime(1,15)),w.addInitializer(new SPARKS.Target(null,Q)),w.addInitializer(new SPARKS.Velocity(new SPARKS.PointZone(new THREE.Vector3(0,-5,1)))),w.addAction(new SPARKS.Age),w.addAction(new SPARKS.Accelerate(0,0,-50)),w.addAction(new SPARKS.Move),w.addAction(new SPARKS.RandomDrift(90,100,2e3)),w.addCallback("created",J),w.addCallback("dead",Z),l=new THREE.WebGLRenderer,l.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(l.domElement);var en=new THREE.ShaderPass(THREE.FocusShader),nn=new THREE.ShaderPass(THREE.CopyShader);effectFilm=new THREE.FilmPass(.5,.25,2048,!1);var on=THREE.TriangleBlurShader;v=new THREE.ShaderPass(on,"texture"),E=new THREE.ShaderPass(on,"texture");var tn=15,an=tn/window.innerWidth,rn=tn/window.innerHeight;b=new THREE.ShaderPass(THREE.HorizontalBlurShader),C=new THREE.ShaderPass(THREE.VerticalBlurShader),b.uniforms.h.value=1/window.innerWidth,C.uniforms.v.value=1/window.innerHeight,v.uniforms.delta.value=new THREE.Vector2(an,0),E.uniforms.delta.value=new THREE.Vector2(0,rn),en.uniforms.sampleDistance.value=.99,en.uniforms.waveFactor.value=.003;var sn=new THREE.RenderPass(c,d);f=new THREE.EffectComposer(l),f.addPass(sn),f.addPass(b),f.addPass(C),C.renderToScreen=!0,E.renderToScreen=!0,en.renderToScreen=!0,nn.renderToScreen=!0,effectFilm.renderToScreen=!0,document.addEventListener("touchstart",a,!1),document.addEventListener("touchmove",r,!1),window.addEventListener("resize",o,!1),document.addEventListener("mousemove",t,!1),this.stop=function(){T=!1,w.stop()},this.start=function(){function e(){T&&(requestAnimationFrame(e),s())}T=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),w.start(),e()}}function ThreeFx(e){function n(){w=window.innerWidth/2,f=window.innerHeight/2,a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),u.reset()}function i(e,n,i,o,t){for(var a=e.faceVertexUvs[0],r=0;r<a.length;r++)for(var s=a[r],d=0;d<s.length;d++){var c=s[d];c.x=(c.x+o)*n,c.y=(c.y+t)*i}}function o(e){m=.5*(e.clientX-w),g=e.clientY-f}function t(){var n=5e-5*Date.now();for(a.position.x+=.05*(m-a.position.x),a.position.y+=.05*(-g-a.position.y),a.lookAt(r.position),e.readyState&&e.readyState!==e.HAVE_ENOUGH_DATA||d&&(d.needsUpdate=!0),_=0;h>_;_++)c=E[_],O=360*(c.hue+n)%360/360,c.color.setHSL(O,c.saturation,.5);if(D%1e3>200)for(_=0;h>_;_++)l=v[_],l.rotation.x+=10*l.dx,l.rotation.y+=10*l.dy,l.position.x+=200*l.dx,l.position.y+=200*l.dy,l.position.z+=400*l.dx;if(D%1e3===0)for(_=0;h>_;_++)l=v[_],l.dx*=-1,l.dy*=-1;D++,s.clear(),u.render()}var a,r,s,d,c,l,u,h,p,m=0,g=0,w=window.innerWidth/2,f=window.innerHeight/2,v=[],E=[],b=20,C=10,T=$(e);this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e4),a.position.z=500,r=new THREE.Scene;var x=new THREE.DirectionalLight(16777215);x.position.set(.5,1,1).normalize(),r.add(x),s=new THREE.WebGLRenderer({antialias:!1}),s.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(s.domElement),d=new THREE.Texture(e),d.minFilter=THREE.LinearFilter,d.magFilter=THREE.LinearFilter,d.format=THREE.RGBFormat,d.generateMipmaps=!1;var _,y,H,R,k,S,P,M,I;H=1/b,R=1/C,M=T.width()/1.5/b,I=T.height()/1.5/C;var z={color:16777215,map:d},A=new THREE.MeshLambertMaterial(z);for(s.initMaterial(A,r.__lights,r.fog),h=0,_=0;b>_;_++)for(y=0;C>y;y++)k=_,S=y,P=new THREE.CubeGeometry(M,I,M),i(P,H,R,k,S),E[h]=new THREE.MeshLambertMaterial(z),c=E[h],c.hue=_/b,c.saturation=1-y/C,c.color.setHSL(c.hue,c.saturation,.5),l=new THREE.Mesh(P,c),l.position.x=(_-b/2)*M,l.position.y=(y-C/2)*I,l.position.z=0,l.scale.x=l.scale.y=l.scale.z=1,r.add(l),l.dx=.001*(.5-Math.random()),l.dy=.001*(.5-Math.random()),v[h]=l,h+=1;s.autoClear=!1,document.addEventListener("mousemove",o,!1);var W=new THREE.RenderPass(r,a),F=new THREE.BloomPass(1.3),L=new THREE.ShaderPass(THREE.CopyShader);L.renderToScreen=!0,u=new THREE.EffectComposer(s),u.addPass(W),u.addPass(F),u.addPass(L),window.addEventListener("resize",n,!1),this.stop=function(){p=!1},this.start=function(){function e(){p&&(requestAnimationFrame(e),t())}p=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),e()};var O,D=1}function ThreeParticlesDynamic(){function e(e){mouseX=e.clientX-x,mouseY=e.clientY-_,c.rotation.y=.002*(-mouseX-x),c.rotation.x=.002*-mouseY}function n(){x=window.innerWidth/2,_=window.innerHeight/2,s.setSize(window.innerWidth,window.innerHeight),a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),a.lookAt(r.position),p.reset(),m.uniforms.screenWidth.value=window.innerWidth,m.uniforms.screenHeight.value=window.innerHeight}function o(e,n,i,o,t,a,r,s){var u,h,p=e.vertices,m=p.length,g=new THREE.Geometry,w=[];for(u=0;m>u;u++)l=p[u],g.vertices[u]=l.clone(),w[u]=[l.x,l.y,l.z,0,0];var f=[[6e3,0,-4e3],[5e3,0,0],[1e3,0,5e3],[1e3,0,-5e3],[4e3,0,2e3],[-4e3,0,1e3],[-5e3,0,-5e3],[0,0,0]];if(s){for(u=0;u<f.length;u++)h=u<f.length-1?2434341:r,d=new THREE.ParticleSystem(g,new THREE.ParticleSystemMaterial({size:3,color:h})),d.scale.x=d.scale.y=d.scale.z=i,d.position.x=o+f[u][0],d.position.y=t+f[u][1],d.position.z=a+f[u][2],c.add(d),E.push({mesh:d,speed:.5+Math.random()});C+=f.length,b+=f.length*m}else d=new THREE.ParticleSystem(g,new THREE.ParticleSystemMaterial({size:3,color:r})),d.scale.x=d.scale.y=d.scale.z=i,d.position.x=o,d.position.y=t,d.position.z=a,c.add(d),C+=1,b+=m;v.push({mesh:d,vertices:g.vertices,vertices_tmp:w,vl:m,down:0,up:0,direction:0,speed:35,delay:Math.floor(200+200*Math.random()),started:!1,start:Math.floor(100+200*Math.random()),dynamic:s})}function t(){for(delta=10*T.getDelta(),delta=2>delta?delta:2,S=0,P=E.length;P>S;S++)M=E[S],M.mesh.rotation.y+=-.1*delta*M.speed;for(S=0,P=v.length;P>S;S++)if(I=v[S],d=I.mesh,z=I.vertices,A=I.vertices_tmp,W=I.vl,I.dynamic){for(I.start>0?I.start-=1:I.started||(I.direction=-1,I.started=!0),i=0;W>i;i++)l=z[i],L=A[i],I.direction<0&&(l.y>0?(l.x+=1.5*(.5-Math.random())*I.speed*delta,l.y+=3*(.25-Math.random())*I.speed*delta,l.z+=1.5*(.5-Math.random())*I.speed*delta):L[3]||(L[3]=1,I.down+=1)),I.direction>0&&(F=Math.abs(l.x-L[0])+Math.abs(l.y-L[1])+Math.abs(l.z-L[2]),F>1?(l.x+=-(l.x-L[0])/F*I.speed*delta*(.85-Math.random()),l.y+=-(l.y-L[1])/F*I.speed*delta*(1+Math.random()),l.z+=-(l.z-L[2])/F*I.speed*delta*(.85-Math.random())):L[4]||(L[4]=1,I.up+=1));if(I.down===W)if(0===I.delay)for(I.direction=1,I.speed=10,I.down=0,I.delay=320,i=0;W>i;i++)A[i][3]=0;else I.delay-=1;if(I.up===W)if(0===I.delay)for(I.direction=-1,I.speed=35,I.up=0,I.delay=120,i=0;W>i;i++)A[i][4]=0;else I.delay-=1;d.geometry.verticesNeedUpdate=!0}s.clear(),p.render(.01)}var a,r,s,d,c,l,u,h,p,m,g,w=window.innerHeight,f=window.innerWidth,v=[],E=[],b=0,C=0,T=new THREE.Clock,x=window.innerWidth/2,_=window.innerHeight/2;this.container=document.createElement("div"),$(this.container).addClass("bg three"),$("#three-bg-wrap").append(this.container),a=new THREE.PerspectiveCamera(20,f/w,1,5e4),a.position.set(0,700,7e3),r=new THREE.Scene,r.fog=new THREE.FogExp2(260,675e-7),a.lookAt(r.position),u=new THREE.JSONLoader,h=new THREE.BinaryLoader(!0),u.load("obj/terrain.js",function(e){o(e,r,16.8,-11e3,-200,-5e3,65348,!1),o(e,r,16.8,11e3,-200,-15e3,65331,!1),o(e,r,16.8,0,-200,-15e3,65331,!1),o(e,r,16.8,0,-200,15e3,65331,!1),o(e,r,16.8,11e3,-200,15e3,65314,!1),o(e,r,16.8,-11e3,-200,5e3,65297,!1),o(e,r,16.8,13e3,-200,5e3,65365,!1),o(e,r,16.8,13e3,-200,-5e3,65382,!1)}),h.load("obj/veyron/VeyronNoUv_bin.js",function(e){o(e,r,6.8,2200,-200,-100,22015,!1)}),h.load("obj/female02/Female02_bin.js",function(e){o(e,r,4.05,-1e3,-350,0,16768324,!0),o(e,r,4.05,0,-350,0,16777215,!0),o(e,r,4.05,1e3,-350,400,16729122,!0),o(e,r,4.05,250,-350,1500,16750933,!0),o(e,r,4.05,250,-350,2500,16742365,!0)}),h.load("obj/male02/Male02_bin.js",function(e){o(e,r,4.05,-500,-350,600,16742212,!0),o(e,r,4.05,500,-350,0,16733474,!0),o(e,r,4.05,-250,-350,1500,16750882,!0),o(e,r,4.05,-250,-350,-1500,16751103,!0)}),s=new THREE.WebGLRenderer({antialias:!1}),s.setSize(f,w),s.autoClear=!1,s.sortObjects=!1,this.container.appendChild(s.domElement),s.setClearColor(r.fog.color,1),c=new THREE.Object3D,r.add(c);var y=new THREE.ParticleSystem(new THREE.PlaneGeometry(15e3,15e3,64,64),new THREE.ParticleSystemMaterial({color:16711680,size:10}));y.position.y=-400,y.rotation.x=-Math.PI/2,c.add(y),C+=1,b+=y.geometry.vertices.length;var H=new THREE.RenderPass(r,a),R=new THREE.BloomPass(.75),k=new THREE.FilmPass(.5,.5,1448,!1);
m=new THREE.ShaderPass(THREE.FocusShader),m.uniforms.screenWidth.value=window.innerWidth,m.uniforms.screenHeight.value=window.innerHeight,m.renderToScreen=!0,p=new THREE.EffectComposer(s),p.addPass(H),p.addPass(R),p.addPass(k),p.addPass(m),document.addEventListener("mousemove",e,!1),window.addEventListener("resize",n,!1);var S,P,M,I,z,A,W,F,L;this.stop=function(){g=!1},this.start=function(){function e(){g&&(requestAnimationFrame(e),t())}g=!0,THREE.EffectComposer.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),THREE.EffectComposer.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),e()}}$.fn.cssAn=function(e){return $.support.transition?this.css(e):this.animate(e,duration)},$.fn.cssAnOnly=function(e){return $.support.transition?this.css(e):this};var previosDocmode=$.cookie("docmode");document.documentMode&&$.cookie("docmode",document.documentMode);var isIE8=$("html").hasClass("ie8"),isIE9=$("html").hasClass("ie9"),isIE10=$("html").hasClass("ie10"),isIE11=function(){var e=document.documentMode;try{document.documentMode=""}catch(n){}res=11===document.documentMode;try{document.documentMode=e}catch(n){}return res}(),isIE=function(){var tmp=document.documentMode,e,isIE;try{document.documentMode=""}catch(e){}res="number"==typeof document.documentMode?!0:eval("/*@cc_on!@*/!1");try{document.documentMode=tmp}catch(e){}return res}();isWin=$("html").hasClass("win"),isChrome=$("html").hasClass("chrome");var isWebgl=$("html").hasClass("do-webgl"),isPlayVideo=$("html").hasClass("play-video"),isPlayAudio=document.createElement("audio").canPlayType,isParallax=$("html").hasClass("parallax"),$scene,isProcessing=$("html").hasClass("processing"),duration=800,bgInClasses=["slideInDown","fadeInLeft","slideInLeft","fadeInRight","slideInRight","fadeInDown","fadeInUp"],bgInClassCur=0,pgInClasses=["fadeInLeft","fadeInDown","fadeInUp","fadeInRight"],pgInClassCur=0,boxInClasses=isIE?["bounceIn","pulse","bounce","shake","swing","bounceInLeft"]:["flipInX","bounceIn","pulse","bounce","shake","swing","bounceInLeft","flipInY"],boxInClassCur=0,pgOutClasses=["bounceOutRight","bounceOutLeft","bounceOutDown","bounceOutUp"],pgOutClassCur=0,bgOutClasses=["bounceOutRight","bounceOutLeft","bounceOutDown","bounceOutUp"],bgOutClassCur=0,animationEnd="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",transitionEnd="webkitTransitionEnd oTransitionEnd transitionend",moveFunc=moveClear,clipCursor=function(){function e(e){var n="last-cursor-"+e,i=getModeCookie(n);return i?i:($.cookie(n,0),0)}return{"video-bg-wrap":e("video-bg-wrap"),"sketch-bg-wrap":e("sketch-bg-wrap"),"three-img-bg-wrap":e("three-img-bg-wrap")}}(),loadedClips={},maxLoadedClips={"video-bg-wrap":$.cookie("max-loaded-video-bg-wrap"),"sketch-bg-wrap":$.cookie("max-loaded-sketch-bg-wrap"),"three-img-bg-wrap":$.cookie("max-loaded-three-img-bg-wrap")},getCursor=function(e){var n=getModeCookie(e);return n?n:($.cookie(e,0),0)},fxCursor=getCursor("lastFxCursor"),sketchCursor=getCursor("lastSketchCursor"),threeCursor=getCursor("lastThreeCursor"),lastHash,loadedVideo=[],currentVideoUrl,filmDirect=1,seq,videoClips=[{src:"video/circ.hole_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/15533570",author:"beeple"},{src:"video/cross6_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"video/nodes_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/9936271",author:"beeple"},{src:"video/lightgrid_(loop)_1280x720.mp4",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"}],sketchClips=[{src:"video/lightgrid_(loop)_1280x720.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"video/cross6_(loop)_1280x720.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"video/lightgrid_(loop)_1280x720-a.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"video/cross6_(loop)_1280x720-a.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"video/lightgrid_(loop)_1280x720-c.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"video/cross6_(loop)_1280x720-c.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"},{src:"video/lightgrid_(loop)_1280x720-b.jpg",w:1280,h:720,link:"http://vimeo.com/76432043",author:"beeple"},{src:"video/cross6_(loop)_1280x720-b.jpg",w:1280,h:720,link:"http://vimeo.com/11162767",author:"beeple"}],threeImgClips=[{src:"images/bg/traffic-1600x1061.jpg",w:1600,h:1061,link:"http://www.flickr.com/photos/yakobusan/3566287076/in/set-72157622430175923",author:"Jakob Montrasio"},{src:"images/bg/android-1920x1274.jpg",w:1920,h:1274,link:"http://www.flickr.com/photos/peyotll/8378484980/",author:"Benjamin Lefebvre"},{src:"images/bg/shanghai-1920x1279.jpg",w:1920,h:1279,link:"http://www.flickr.com/photos/yakobusan/3986658544/in/set-72157622430175923",author:"Jakob Montrasio"}],sketches=[{src:"pde/hello-processing.pde"},{src:"pde/swarming-circles.pde"},{src:"pde/motion-frequency.pde"}],boomSnd=snd([["audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.ogg","audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.mp3"],["audio/boom/93848__robinhood76__01551-low-boom.ogg","audio/boom/93848__robinhood76__01551-low-boom.mp3"],["audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["audio/boom/93848__robinhood76__01551-low-boom.ogg","audio/boom/93848__robinhood76__01551-low-boom.mp3"],["audio/boom/93848__robinhood76__01551-low-boom.ogg","audio/boom/93848__robinhood76__01551-low-boom.mp3"],["audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["audio/boom/93848__robinhood76__01551-low-boom.ogg","audio/boom/93848__robinhood76__01551-low-boom.mp3"],["audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.ogg","audio/boom/199526__unfa__a-whole-cd-in-4-seconds-sci-fi-computer-working.mp3"],["audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"],["audio/boom/195790__klankbeeld__cinematic-boom-130730-06.ogg","audio/boom/195790__klankbeeld__cinematic-boom-130730-06.mp3"]]),clickSnd=snd([["audio/click/213148__radiy__click.mp3","audio/click/213148__radiy__click.ogg"]]),enterSnd=snd([["audio/swipe/48185__rwm28__digitalhum1.ogg","audio/swipe/48185__rwm28__digitalhum1.mp3"]]),windSnd=snd([["audio/wind/148331__shapeshifter242__quiet.ogg","audio/wind/148331__shapeshifter242__quiet.mp3"],["audio/wind/158398__kennysvoice__wipenthump.ogg","audio/wind/158398__kennysvoice__wipenthump.mp3"],["audio/wind/77080__dj-chronos__giant-wing-flap-5.ogg","audio/wind/77080__dj-chronos__giant-wing-flap-5.mp3"],["audio/wind/30328__erh__radio-click-2.ogg","audio/wind/30328__erh__radio-click-2.mp3"],["audio/wind/64054__obct__b00-120.ogg","audio/wind/64054__obct__b00-120.mp3"]]),threeBgs=function(){return isWebgl?isIE?[new ThreeCubemapBalls,new ThreeParticlesDynamic]:[new ThreeCubemapBalls,new ThreeParticlesDynamic,new ThreeParticlesShapes,new ThreeParticlesBillboards]:null}(),moveFx=isParallax?new function(){var e=$('<div id="move-fx"></div>');e.css({position:"absolute",top:"-10%",left:"-10%",width:"120%",height:"120%"}),$wrapper=$('<div id="move-fx-wrap"></div>'),$wrapper.css({position:"absolute !important",top:"0",left:"0",width:"100%",height:"100%","z-index":"700"}),$("#page-wrapper").append($wrapper),$wrapper.append(e);var n=["rgb(255,0,0)","rgb(127,128,0)","rgb(0,255,0)","rgb(0,127,128)","rgb(0,0,255)"],i=n.length,o=function(){for(var o=[],t=100/i,a="1s",r="opacity",s=0;i>s;s++)o[s]=$('<div class="bar"></div>'),o[s].css({position:"absolute",bottom:"0",left:s*t+"%",width:t+"%",height:"0",opacity:"0","background-color":n[s],"-webkit-transition-duration":a,"-moz-transition-duration":a,"-ms-transition-duration":a,"-o-transition-duration":a,"transition-duration":a,"-webkit-transition-property":r,"-moz-transition-property":r,"-ms-transition-property":r,"-o-transition-property":r,"transition-property":r}),e.append(o[s]);return o}();$(window).mousemove(function(e){for(var n=e.clientX,t=e.clientY,a=$(window).width(),r=$(window).height(),s=a/i,d=(Math.floor(n/s),r-t),c=0;i>c;c++){var l=c*s+s/2,u=Math.abs(l-n),h=a*(i-1)/i,p=1.3*(1-u/h);o[c].css({height:Math.round(d*p)+"px"})}}),this.start=function(){$("#move-fx .bar").css({opacity:"0.4"})},this.stop=function(){$("#move-fx .bar").css({opacity:"0"})}}:null;opacityFix(),design(),audio(),projects(),loadClip(sketchClips,"sketch-bg-wrap"),isWebgl&&loadClip(threeImgClips,"three-img-bg-wrap"),isPlayVideo&&loadClip(videoClips,"video-bg-wrap"),navigation()})}).call(this);